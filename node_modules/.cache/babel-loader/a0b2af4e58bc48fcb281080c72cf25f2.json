{"ast":null,"code":"var _jsxFileName = \"/Users/katerynashvetsova/Documents/projects/react_phone-catalog/src/components/CartSlider/CartSlider.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport classNames from 'classnames';\nimport { getSliderWidth, getSliderStep, getCartMarginRight, getCartMarginLeft } from '../../helpers/slider';\nimport './CartSlider.scss'; // const getSliderWidth = () => (\n//   window.innerWidth > 655 ? Math.ceil((window.innerWidth * 72.2/100)+ 96) : Math.ceil(window.innerWidth - 48)\n//  //Math.ceil(window.innerWidth * 72 / 100) + 96\n// )\n// const getCartLength = () => {\n//   let cartWidth = 272;\n//   let width = getSliderWidth() ;\n//   return Math.trunc(width / cartWidth);\n// }\n// const getMargin = () => {\n//   let cartWidth = 272;\n//   let width = getSliderWidth();\n//   let cartLength = getCartLength();\n//   return Math.trunc((width - (cartWidth * cartLength)) / (cartLength - 1))\n// }\n\nconst getMarginLeft = () => {\n  let cartWidth = 272;\n  let width = getSliderWidth();\n  return width < 655 ? width - cartWidth : 0;\n}; // window.addEventListener('resize', () => (\n//   setSliderWidth(getSliderWidth())\n// ))\n\n\nexport const CartSlider = () => {\n  const [carts, setCarts] = useState(['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18']);\n  const [sliderWidth, setSliderWidth] = useState(getSliderWidth());\n  const [sliderStep, setSliderStep] = useState(getSliderStep(sliderWidth));\n  const [disabled] = useState('1');\n  const [currentPosition, setCurrentPosition] = useState(0);\n  const [marginRight, setMarginRight] = useState(getCartMarginRight(sliderWidth, sliderStep));\n  const [marginLeft, setMarginLeft] = useState(getCartMarginLeft(sliderWidth)); //const [marginLeft, setMarginLeft] = useState(getMarginLeft())\n\n  const handleResize = () => {\n    setSliderWidth(getSliderWidth());\n    setSliderStep(getSliderStep(sliderWidth));\n    setMarginRight(getCartMarginRight(sliderWidth, sliderStep));\n  };\n\n  const getMarginLeft = sliderWidth => sliderWidth < 665 ? (sliderWidth - 272) / 2 : 0; // const getMarginLeft = (margin) => (\n  //   sliderWidth < 655 ?(sliderWidth - 272) / 2 : sliderWidth + margin\n  // )\n  //window.addEventListener('resize', handleResize)\n  // useEffect(() => {\n  //   const intervalId = setInterval(() => window.addEventListener('resize', handleResize), 1000);\n  //   return () => {\n  //     clearInterval(intervalId)\n  //   }\n  // })\n\n\n  const handleClickPrev = () => {\n    window.addEventListener('resize', handleResize); // let margin = getMargin();\n    // setMargin(margin);\n    // if (sliderWidth < 655) {\n    // }\n    // let position = currentPosition + (sliderWidth < 655 ?\n    // (sliderWidth - getMarginLeft() / 2) : sliderWidth + margin);\n\n    let position = currentPosition + (marginLeft ? sliderWidth - marginLeft / 2 : sliderWidth - marginRight);\n\n    if (position > 0) {\n      position = 0;\n    }\n\n    setCurrentPosition(position);\n  };\n\n  const handleClickNext = () => {\n    window.addEventListener('resize', handleResize); //let margin = getMargin();\n    // setMargin(getMargin())\n    //let cartLength = getCartLength();\n\n    let position = currentPosition - (marginLeft ? sliderWidth - marginLeft / 2 : sliderWidth + marginRight);\n    let maxPosition = (carts.length - sliderStep) / sliderStep * (marginLeft ? sliderWidth - marginLeft / 2 : sliderWidth + marginRight);\n\n    if (-position > maxPosition) {\n      position = -maxPosition;\n    }\n\n    setCurrentPosition(position);\n  };\n\n  console.log(sliderWidth);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"CartSlider\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"CartSlider-Container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"CartSlider-Title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }, \"Title\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"CartSlider-Buttons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: classNames('button_cart', {\n      //prev_disabled: disabled,\n      button_prev: disabled\n    }),\n    onClick: handleClickPrev,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: classNames('button_cart', {\n      next_disabled: disabled,\n      button_next: !disabled\n    }),\n    onClick: handleClickNext,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"slider\" // style={{\n    //   transition: `transform ${1000}ms`,\n    //   transform: `translateX(${currentPosition}px)`,\n    //   marginLeft: `${currentPosition\n    //     ? -(currentPosition + sliderWidth)\n    //     : 0}px`,\n    // }}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"CartSlider-Content\",\n    style: {\n      transition: `transform ${1000}ms`,\n      transform: `translateX(${currentPosition}px)`,\n      // marginLeft: `${currentPosition\n      //   ? -(currentPosition + sliderWidth)\n      //   : 0}px`,\n      marginLeft: `-${currentPosition + sliderWidth}`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }\n  }, carts.map(item => /*#__PURE__*/React.createElement(\"div\", {\n    key: item,\n    className: \"Cart\",\n    style: {\n      marginRight: `${sliderWidth < 655 ? 0 : marginRight}px`,\n      marginLeft: `${sliderWidth < 655 ? marginLeft / 2 : 0}px`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: `./img/slider/1.jpg`,\n    className: \"Cart-Image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }\n  }))))));\n};","map":{"version":3,"sources":["/Users/katerynashvetsova/Documents/projects/react_phone-catalog/src/components/CartSlider/CartSlider.jsx"],"names":["React","useState","useEffect","classNames","getSliderWidth","getSliderStep","getCartMarginRight","getCartMarginLeft","getMarginLeft","cartWidth","width","CartSlider","carts","setCarts","sliderWidth","setSliderWidth","sliderStep","setSliderStep","disabled","currentPosition","setCurrentPosition","marginRight","setMarginRight","marginLeft","setMarginLeft","handleResize","handleClickPrev","window","addEventListener","position","handleClickNext","maxPosition","length","console","log","button_prev","next_disabled","button_next","transition","transform","map","item"],"mappings":"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","sourcesContent":["import React , { useState, useEffect } from 'react';\nimport classNames from 'classnames';\nimport { getSliderWidth, getSliderStep, getCartMarginRight, getCartMarginLeft } from '../../helpers/slider';\nimport './CartSlider.scss'; \n\n// const getSliderWidth = () => (\n//   window.innerWidth > 655 ? Math.ceil((window.innerWidth * 72.2/100)+ 96) : Math.ceil(window.innerWidth - 48)\n//  //Math.ceil(window.innerWidth * 72 / 100) + 96\n// )\n\n// const getCartLength = () => {\n//   let cartWidth = 272;\n//   let width = getSliderWidth() ;\n//   return Math.trunc(width / cartWidth);\n// }\n\n// const getMargin = () => {\n//   let cartWidth = 272;\n//   let width = getSliderWidth();\n//   let cartLength = getCartLength();\n//   return Math.trunc((width - (cartWidth * cartLength)) / (cartLength - 1))\n// }\n\nconst getMarginLeft = () => {\n  let cartWidth = 272;\n  let width = getSliderWidth();\n  return width < 655 ? width - cartWidth : 0;\n}\n// window.addEventListener('resize', () => (\n//   setSliderWidth(getSliderWidth())\n// ))\n\nexport const CartSlider = () => {\n  const [carts, setCarts] = useState(['1' , '2', '3', '4', '5', '6', '7' , '8', '9', '10', '11', '12', '13' , '14', '15', '16', '17', '18'])\n  const [sliderWidth, setSliderWidth] = useState(getSliderWidth());\n  const [sliderStep, setSliderStep] = useState(getSliderStep(sliderWidth));\n  const [ disabled ] = useState('1');\n  const [currentPosition, setCurrentPosition] = useState(0);\n  const [marginRight, setMarginRight] = useState(getCartMarginRight(sliderWidth, sliderStep));\n  const [marginLeft, setMarginLeft] = useState(getCartMarginLeft(sliderWidth));\n  //const [marginLeft, setMarginLeft] = useState(getMarginLeft())\n  \n  const handleResize = () => {\n    setSliderWidth(getSliderWidth());\n    setSliderStep(getSliderStep(sliderWidth));\n    setMarginRight(getCartMarginRight(sliderWidth, sliderStep));\n  }\n    const getMarginLeft = (sliderWidth) => (\n      sliderWidth < 665 ? (sliderWidth - 272) / 2 : 0\n    )\n\n  // const getMarginLeft = (margin) => (\n  //   sliderWidth < 655 ?(sliderWidth - 272) / 2 : sliderWidth + margin\n  // )\n\n  //window.addEventListener('resize', handleResize)\n\n  // useEffect(() => {\n  //   const intervalId = setInterval(() => window.addEventListener('resize', handleResize), 1000);\n  //   return () => {\n  //     clearInterval(intervalId)\n  //   }\n  // })\n  \n  const handleClickPrev = () => {\n    window.addEventListener('resize', handleResize);\n    // let margin = getMargin();\n    // setMargin(margin);\n    // if (sliderWidth < 655) {\n\n    // }\n    // let position = currentPosition + (sliderWidth < 655 ?\n    // (sliderWidth - getMarginLeft() / 2) : sliderWidth + margin);\n\n    let position = currentPosition + ( marginLeft\n      ? sliderWidth - (marginLeft / 2)\n      : sliderWidth - marginRight);\n\n    if (position > 0) {\n      position = 0;\n   }\n    setCurrentPosition(position);\n  }\n\n  const handleClickNext = () => {\n    window.addEventListener('resize', handleResize);\n    //let margin = getMargin();\n   // setMargin(getMargin())\n    //let cartLength = getCartLength();\n    let position = currentPosition - (marginLeft\n       ? sliderWidth - (marginLeft / 2)\n       : sliderWidth + marginRight);\n    let maxPosition = ((carts.length - sliderStep) / sliderStep)\n      * (marginLeft ? sliderWidth - (marginLeft / 2) : sliderWidth + marginRight);\n\n    if (-(position) > maxPosition) {\n      position = -maxPosition;\n    }\n\n    setCurrentPosition(position);\n  };\n  \n  console.log(sliderWidth);\n\n  return (\n    <div className=\"CartSlider\">\n      <div className=\"CartSlider-Container\">\n        <p className=\"CartSlider-Title\">Title</p>\n        <div className=\"CartSlider-Buttons\">\n          <button\n            className={classNames('button_cart', {\n            //prev_disabled: disabled,\n            button_prev: disabled,\n            })}\n            onClick={handleClickPrev}\n          >\n            {}\n          </button>\n          <button\n            className={classNames('button_cart', {\n            next_disabled: disabled,\n            button_next: !disabled,\n            })}\n            onClick={handleClickNext}\n          >\n            {}\n          </button>\n        </div>\n      </div>\n      <div\n        className=\"slider\"\n        // style={{\n        //   transition: `transform ${1000}ms`,\n        //   transform: `translateX(${currentPosition}px)`,\n        //   marginLeft: `${currentPosition\n        //     ? -(currentPosition + sliderWidth)\n        //     : 0}px`,\n        // }}\n      >\n        <div\n          className=\"CartSlider-Content\"\n          style={{\n            transition: `transform ${1000}ms`,\n            transform: `translateX(${currentPosition}px)`,\n            // marginLeft: `${currentPosition\n            //   ? -(currentPosition + sliderWidth)\n            //   : 0}px`,\n            marginLeft: `-${(currentPosition + sliderWidth)}`\n          }}\n        >\n        {carts.map(item => (\n          <div\n            key={item}\n            className=\"Cart\"\n            style={{\n              marginRight: `${sliderWidth < 655 ? 0 : marginRight}px`,\n              marginLeft: `${sliderWidth < 655 ? marginLeft / 2 : 0}px`\n            }}\n            >\n            <img src={`./img/slider/1.jpg`} className=\"Cart-Image\"/></div>\n        ))}\n        </div>\n      </div>\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}