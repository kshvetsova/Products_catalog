{"ast":null,"code":"var _jsxFileName = \"/Users/katerynashvetsova/Documents/projects/products_catalog/src/components/ProductsSlider/ProductsSlider.jsx\";\nimport React, { useState } from 'react';\nimport { getSliderWidth, getCartLength, getMargin, getMarginLeft } from '../../helpers/slider';\nimport { PropTypes } from 'prop-types';\nimport { Product } from '../Product';\nimport './ProductsSlider.scss';\nexport const ProductsSlider = React.memo(({\n  title,\n  products\n}) => {\n  const [sliderWidth, setSliderWidth] = useState(getSliderWidth());\n  const [currentPosition, setCurrentPosition] = useState(0);\n  const [cartLength, setCartLength] = useState(getCartLength());\n  const [margin, setMargin] = useState(getMargin());\n  const [marginLeft, setMarginLeft] = useState(getMarginLeft());\n  const [buttonDisabled, setButtonDisabled] = useState(false);\n  const handleResize = useMemo(() => {\n    setSliderWidth(getSliderWidth());\n    setCartLength(getCartLength());\n    setMargin(getMargin());\n    setMarginLeft(getMarginLeft());\n  });\n  window.addEventListener('resize', handleResize);\n\n  const handleClickPrev = () => {\n    window.addEventListener('resize', handleResize);\n    let position = currentPosition + (cartLength === 1 ? sliderWidth - marginLeft / 2 : sliderWidth + margin);\n\n    if (position > 0) {\n      position = 0;\n    } else {\n      setButtonDisabled(false);\n    }\n\n    setCurrentPosition(position);\n  };\n\n  const handleClickNext = () => {\n    window.addEventListener('resize', handleResize);\n    let position = currentPosition - (cartLength === 1 ? sliderWidth - marginLeft / 2 : sliderWidth + margin);\n    let maxPosition = (products.length - cartLength) / cartLength * (cartLength === 1 ? sliderWidth - marginLeft / 2 : sliderWidth + margin);\n\n    if (-position >= maxPosition) {\n      position = -maxPosition;\n      setButtonDisabled(true);\n    }\n\n    setCurrentPosition(position);\n  };\n\n  console.log('ProductsSlider');\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ProductsSlider\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ProductsSlider-Container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"ProductsSlider-Title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, title), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ProductsSlider-ButtonsBlock ButtonsBlock\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"ButtonsBlock-Slider ButtonsBlock-Slider_prev\",\n    onClick: handleClickPrev,\n    disabled: !currentPosition,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"ButtonsBlock-Slider ButtonsBlock-Slider_next\",\n    onClick: handleClickNext,\n    disabled: buttonDisabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ProductsSlider-Slider\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ProductsSlider-Content\",\n    style: {\n      transition: `transform ${1000}ms`,\n      transform: `translateX(${currentPosition}px)`,\n      marginLeft: `-${currentPosition + sliderWidth}`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, products.map(product => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ProductsSlider-Product\",\n    key: product.id,\n    style: {\n      marginRight: `${sliderWidth < 555 ? 0 : margin}px`,\n      marginLeft: `${sliderWidth < 555 ? marginLeft / 2 : 0}px`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Product, Object.assign({}, product, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }))))))));\n});\nProductsSlider.propTypes = {\n  products: PropTypes.arrayOf(PropTypes.object.isRequired).isRequired\n};","map":{"version":3,"sources":["/Users/katerynashvetsova/Documents/projects/products_catalog/src/components/ProductsSlider/ProductsSlider.jsx"],"names":["React","useState","getSliderWidth","getCartLength","getMargin","getMarginLeft","PropTypes","Product","ProductsSlider","memo","title","products","sliderWidth","setSliderWidth","currentPosition","setCurrentPosition","cartLength","setCartLength","margin","setMargin","marginLeft","setMarginLeft","buttonDisabled","setButtonDisabled","handleResize","useMemo","window","addEventListener","handleClickPrev","position","handleClickNext","maxPosition","length","console","log","transition","transform","map","product","id","marginRight","propTypes","arrayOf","object","isRequired"],"mappings":"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","sourcesContent":["import React , { useState,  } from 'react';\nimport { getSliderWidth , getCartLength, getMargin, getMarginLeft} from '../../helpers/slider';\nimport { PropTypes } from 'prop-types';\nimport { Product } from '../Product';\nimport './ProductsSlider.scss';\n\n\nexport const ProductsSlider = React.memo(({ title, products }) => {\n  const [sliderWidth, setSliderWidth] = useState(getSliderWidth())\n  const [currentPosition, setCurrentPosition] = useState(0);\n  const [cartLength, setCartLength] = useState(getCartLength());\n  const [margin, setMargin] = useState(getMargin());\n  const [marginLeft, setMarginLeft] = useState(getMarginLeft());\n  const [buttonDisabled, setButtonDisabled] = useState(false);\n\n  const handleResize = useMemo(() => {\n      setSliderWidth(getSliderWidth());\n      setCartLength(getCartLength());\n      setMargin(getMargin());\n      setMarginLeft(getMarginLeft())\n    });\n  window.addEventListener('resize', handleResize);\n\n  const handleClickPrev = () => {\n    window.addEventListener('resize', handleResize);\n    let position = currentPosition + (cartLength ===1\n      ? sliderWidth - (marginLeft / 2)\n      : sliderWidth + margin);\n\n    if (position > 0) {\n      position = 0;\n    } else {\n      setButtonDisabled(false);\n    }\n    setCurrentPosition(position);\n  };\n\n  const handleClickNext = () => {\n    window.addEventListener('resize', handleResize);\n    let position = currentPosition - (cartLength === 1 ?\n      (sliderWidth - (marginLeft / 2)) : (sliderWidth + margin));\n    let maxPosition = ((products.length - cartLength) / cartLength) *\n      (cartLength === 1\n        ? sliderWidth - marginLeft / 2\n        : sliderWidth + margin);\n\n    if (-(position) >= maxPosition) {\n      position = -maxPosition;\n      setButtonDisabled(true);\n    }\n\n    setCurrentPosition(position);\n  };\n  console.log('ProductsSlider');\n\n  return (\n    <>\n      <div className=\"ProductsSlider\">\n        <div className=\"ProductsSlider-Container\">\n          <p className=\"ProductsSlider-Title\">{title}</p>\n          <div className=\"ProductsSlider-ButtonsBlock ButtonsBlock\">\n            <button\n              className=\"ButtonsBlock-Slider ButtonsBlock-Slider_prev\"\n              onClick={handleClickPrev}\n              disabled={!currentPosition}\n            >\n              {}\n            </button>\n            <button\n              className=\"ButtonsBlock-Slider ButtonsBlock-Slider_next\"\n              onClick={handleClickNext}\n              disabled={buttonDisabled}\n            >\n              {}\n            </button>\n          </div>\n        </div>\n        <div className=\"ProductsSlider-Slider\">\n          <div\n            className=\"ProductsSlider-Content\"\n            style={{\n              transition: `transform ${1000}ms`,\n              transform: `translateX(${currentPosition}px)`,\n              marginLeft: `-${(currentPosition + sliderWidth)}`\n            }}\n          >\n            {products.map(product => (\n              <div\n                className=\"ProductsSlider-Product\"\n                key={product.id}\n                style={{\n                  marginRight: `${sliderWidth < 555 ? 0 : margin}px`,\n                  marginLeft: `${sliderWidth < 555 ? marginLeft / 2 : 0}px`\n                }}\n              >\n                <Product {...product} />\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </>\n  )\n})\n\nProductsSlider.propTypes = {\n  products: PropTypes.arrayOf(PropTypes.object.isRequired).isRequired,\n}\n"]},"metadata":{},"sourceType":"module"}