{"ast":null,"code":"var _jsxFileName = \"/Users/katerynashvetsova/Documents/projects/react_phone-catalog/src/ProductsProvider.jsx\";\nimport React, { useMemo, useState, useEffect } from 'react';\nimport { PropTypes } from 'prop-types';\nimport products from './data/products.json';\nimport { useCallback } from 'react';\nexport const ProductsContext = React.createContext({\n  favourites: [],\n  setFavorites: () => {},\n  carts: [],\n  setCarts: () => {},\n  productsList: [],\n  visibleSearch: true,\n  setVisibleSearch: () => {}\n});\nexport const ProductsProvider = ({\n  children\n}) => {\n  const [productsList, setProductsList] = useState(products);\n  const [visibleSearch, setVisibleSearch] = useState(true);\n  const [favorites, setFavorites] = useState(JSON.parse(localStorage.getItem('favorites')) || []);\n  const [carts, setCarts] = useState(JSON.parse(localStorage.getItem('carts')) || []);\n  console.log(favorites.filter);\n  console.log(products.filter(item => favorites.includes(item.id)));\n  useEffect(() => localStorage.setItem('favorites', JSON.stringify(favorites)), [favorites]);\n  useEffect(() => localStorage.setItem('carts', JSON.stringify(carts)), [carts]);\n  const contextValue = useMemo(() => ({\n    favorites,\n    setFavorites,\n    carts,\n    setCarts,\n    productsList,\n    visibleSearch,\n    setVisibleSearch\n  }), [favorites, carts, visibleSearch, set]);\n  return /*#__PURE__*/React.createElement(ProductsContext.Provider, {\n    value: contextValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, children);\n};\nProductsProvider.propTypes = {\n  children: PropTypes.array.isRequired\n};","map":{"version":3,"sources":["/Users/katerynashvetsova/Documents/projects/react_phone-catalog/src/ProductsProvider.jsx"],"names":["React","useMemo","useState","useEffect","PropTypes","products","useCallback","ProductsContext","createContext","favourites","setFavorites","carts","setCarts","productsList","visibleSearch","setVisibleSearch","ProductsProvider","children","setProductsList","favorites","JSON","parse","localStorage","getItem","console","log","filter","item","includes","id","setItem","stringify","contextValue","set","propTypes","array","isRequired"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,OAAhB,EAAyBC,QAAzB,EAAmCC,SAAnC,QAAoD,OAApD;AACA,SAASC,SAAT,QAA0B,YAA1B;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,SAASC,WAAT,QAA4B,OAA5B;AAEA,OAAO,MAAMC,eAAe,GAAGP,KAAK,CAACQ,aAAN,CAAoB;AACjDC,EAAAA,UAAU,EAAE,EADqC;AAEjDC,EAAAA,YAAY,EAAE,MAAM,CAAE,CAF2B;AAGjDC,EAAAA,KAAK,EAAE,EAH0C;AAIjDC,EAAAA,QAAQ,EAAE,MAAM,CAAE,CAJ+B;AAKjDC,EAAAA,YAAY,EAAE,EALmC;AAMjDC,EAAAA,aAAa,EAAE,IANkC;AAOjDC,EAAAA,gBAAgB,EAAE,MAAM,CAAE;AAPuB,CAApB,CAAxB;AAUP,OAAO,MAAMC,gBAAgB,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AAChD,QAAM,CAACJ,YAAD,EAAeK,eAAf,IAAkChB,QAAQ,CAACG,QAAD,CAAhD;AACA,QAAM,CAACS,aAAD,EAAgBC,gBAAhB,IAAoCb,QAAQ,CAAC,IAAD,CAAlD;AACA,QAAM,CAACiB,SAAD,EAAYT,YAAZ,IAA4BR,QAAQ,CACxCkB,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,KAAiD,EADT,CAA1C;AAGA,QAAM,CAACZ,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,CAACkB,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,KAA6C,EAA9C,CAAlC;AAGAC,EAAAA,OAAO,CAACC,GAAR,CAAYN,SAAS,CAACO,MAAtB;AACAF,EAAAA,OAAO,CAACC,GAAR,CAAYpB,QAAQ,CAACqB,MAAT,CAAgBC,IAAI,IAAIR,SAAS,CAACS,QAAV,CAAmBD,IAAI,CAACE,EAAxB,CAAxB,CAAZ;AAEA1B,EAAAA,SAAS,CAAC,MACRmB,YAAY,CAACQ,OAAb,CAAqB,WAArB,EAAkCV,IAAI,CAACW,SAAL,CAAeZ,SAAf,CAAlC,CADO,EAEN,CAACA,SAAD,CAFM,CAAT;AAIAhB,EAAAA,SAAS,CAAC,MACRmB,YAAY,CAACQ,OAAb,CAAqB,OAArB,EAA8BV,IAAI,CAACW,SAAL,CAAepB,KAAf,CAA9B,CADO,EAEN,CAACA,KAAD,CAFM,CAAT;AAIA,QAAMqB,YAAY,GAAG/B,OAAO,CAAC,OAC3B;AACEkB,IAAAA,SADF;AAEET,IAAAA,YAFF;AAGEC,IAAAA,KAHF;AAIEC,IAAAA,QAJF;AAKEC,IAAAA,YALF;AAMEC,IAAAA,aANF;AAOEC,IAAAA;AAPF,GAD2B,CAAD,EAUzB,CAACI,SAAD,EAAYR,KAAZ,EAAmBG,aAAnB,EAAkCmB,GAAlC,CAVyB,CAA5B;AAaA,sBACE,oBAAC,eAAD,CAAiB,QAAjB;AAA0B,IAAA,KAAK,EAAED,YAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGf,QADH,CADF;AAKD,CAtCM;AAwCPD,gBAAgB,CAACkB,SAAjB,GAA6B;AAC3BjB,EAAAA,QAAQ,EAAEb,SAAS,CAAC+B,KAAV,CAAgBC;AADC,CAA7B","sourcesContent":["import React, { useMemo, useState, useEffect } from 'react';\nimport { PropTypes } from 'prop-types';\nimport products from './data/products.json';\nimport { useCallback } from 'react';\n\nexport const ProductsContext = React.createContext({\n  favourites: [],\n  setFavorites: () => {},\n  carts: [],\n  setCarts: () => {},\n  productsList: [],\n  visibleSearch: true,\n  setVisibleSearch: () => {},\n});\n\nexport const ProductsProvider = ({ children }) => {\n  const [productsList, setProductsList] = useState(products);\n  const [visibleSearch, setVisibleSearch] = useState(true);\n  const [favorites, setFavorites] = useState(\n    JSON.parse(localStorage.getItem('favorites')) || []\n  );\n  const [carts, setCarts] = useState(JSON.parse(localStorage.getItem('carts')) || []);\n  \n  \n  console.log(favorites.filter);\n  console.log(products.filter(item => favorites.includes(item.id)));\n  \n  useEffect(() => (\n    localStorage.setItem('favorites', JSON.stringify(favorites))\n  ), [favorites]);\n\n  useEffect(() => (\n    localStorage.setItem('carts', JSON.stringify(carts))\n  ), [carts]);\n\n  const contextValue = useMemo(() => (\n    {\n      favorites,\n      setFavorites,\n      carts,\n      setCarts,\n      productsList,\n      visibleSearch,\n      setVisibleSearch,\n    }\n  ), [favorites, carts, visibleSearch, set]);\n\n\n  return (\n    <ProductsContext.Provider value={contextValue}>\n      {children}\n    </ProductsContext.Provider>\n  )\n}\n\nProductsProvider.propTypes = {\n  children: PropTypes.array.isRequired,\n};"]},"metadata":{},"sourceType":"module"}