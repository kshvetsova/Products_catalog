{"ast":null,"code":"import _slicedToArray from\"/Users/katerynashvetsova/Documents/projects/Products_catalog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useMemo,useState,useEffect,useCallback}from'react';import{useLocation}from'react-router-dom';import phones from'./data/phones.json';import watches from'./data/watches.json';import tablets from'./data/tablets.json';import{debounce}from'./helpers/debounce';import{initialValue}from'./helpers/search';import{initialSortSelect,initialToggleSelect,initialItemsPageSelect}from'./helpers/select';import{initialPage}from'./helpers/pagination';export var ProductsContext=React.createContext({favourites:[],setFavorites:function setFavorites(){},carts:[],setCarts:function setCarts(){},productsList:{},appliedValue:{},setAppliedValue:function setAppliedValue(){},applyValue:function applyValue(){},path:'',sortCarts:{},setSortCarts:function setSortCarts(){},setToggleSort:function setToggleSort(){},toggleSort:{},pageItems:{},setPageItems:function setPageItems(){},toggleItemsPage:{},setToggleItemsPage:function setToggleItemsPage(){},page:{},setPage:function setPage(){}});var root=document.getElementById('root');export var ProductsProvider=function ProductsProvider(_ref){var children=_ref.children;var _useState=useState({phones:phones,tablets:tablets,watches:watches}),_useState2=_slicedToArray(_useState,1),productsList=_useState2[0];var _useState3=useState(initialValue),_useState4=_slicedToArray(_useState3,2),appliedValue=_useState4[0],setAppliedValue=_useState4[1];var applyValue=useCallback(debounce(setAppliedValue,1000),[]);var _useState5=useState(initialSortSelect),_useState6=_slicedToArray(_useState5,2),sortCarts=_useState6[0],setSortCarts=_useState6[1];var _useState7=useState(initialToggleSelect),_useState8=_slicedToArray(_useState7,2),toggleSort=_useState8[0],setToggleSort=_useState8[1];var _useState9=useState(initialItemsPageSelect),_useState10=_slicedToArray(_useState9,2),pageItems=_useState10[0],setPageItems=_useState10[1];var _useState11=useState(initialToggleSelect),_useState12=_slicedToArray(_useState11,2),toggleItemsPage=_useState12[0],setToggleItemsPage=_useState12[1];var _useState13=useState(initialPage),_useState14=_slicedToArray(_useState13,2),page=_useState14[0],setPage=_useState14[1];var _useLocation=useLocation(),pathname=_useLocation.pathname;var path=pathname.slice(1);var _useState15=useState(JSON.parse(localStorage.getItem('favorites'))||[]),_useState16=_slicedToArray(_useState15,2),favorites=_useState16[0],setFavorites=_useState16[1];var _useState17=useState(JSON.parse(localStorage.getItem('carts'))||[]),_useState18=_slicedToArray(_useState17,2),carts=_useState18[0],setCarts=_useState18[1];useEffect(function(){return localStorage.setItem('favorites',JSON.stringify(favorites));},[favorites]);useEffect(function(){return localStorage.setItem('carts',JSON.stringify(carts));},[carts]);useEffect(function(){return root.scrollIntoView();},[path]);var contextValue=useMemo(function(){return{favorites:favorites,setFavorites:setFavorites,carts:carts,setCarts:setCarts,productsList:productsList,appliedValue:appliedValue,setAppliedValue:setAppliedValue,applyValue:applyValue,path:path,sortCarts:sortCarts,setSortCarts:setSortCarts,toggleSort:toggleSort,setToggleSort:setToggleSort,pageItems:pageItems,setPageItems:setPageItems,toggleItemsPage:toggleItemsPage,setToggleItemsPage:setToggleItemsPage,setPage:setPage,page:page};},[favorites,carts,productsList,appliedValue,applyValue,setAppliedValue,path,sortCarts,toggleSort,pageItems,toggleItemsPage,page]);return/*#__PURE__*/React.createElement(ProductsContext.Provider,{value:contextValue},children);};","map":{"version":3,"sources":["/Users/katerynashvetsova/Documents/projects/Products_catalog/src/ProductsProvider.jsx"],"names":["React","useMemo","useState","useEffect","useCallback","useLocation","phones","watches","tablets","debounce","initialValue","initialSortSelect","initialToggleSelect","initialItemsPageSelect","initialPage","ProductsContext","createContext","favourites","setFavorites","carts","setCarts","productsList","appliedValue","setAppliedValue","applyValue","path","sortCarts","setSortCarts","setToggleSort","toggleSort","pageItems","setPageItems","toggleItemsPage","setToggleItemsPage","page","setPage","root","document","getElementById","ProductsProvider","children","pathname","slice","JSON","parse","localStorage","getItem","favorites","setItem","stringify","scrollIntoView","contextValue"],"mappings":"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","sourcesContent":["import React, { useMemo, useState, useEffect, useCallback } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { PropTypes } from 'prop-types';\nimport phones from './data/phones.json';\nimport watches from './data/watches.json';\nimport tablets from './data/tablets.json';\nimport { debounce } from './helpers/debounce';\nimport { initialValue } from './helpers/search';\nimport {\n  initialSortSelect,\n  initialToggleSelect,\n  initialItemsPageSelect } from './helpers/select';\nimport { initialPage } from './helpers/pagination';\n\nexport const ProductsContext = React.createContext({\n  favourites: [],\n  setFavorites: () => {},\n  carts: [],\n  setCarts: () => {},\n  productsList: {},\n  appliedValue: {},\n  setAppliedValue: () => {},\n  applyValue: () => {},\n  path: '',\n  sortCarts: {},\n  setSortCarts: () => {},\n  setToggleSort: () => {},\n  toggleSort: {},\n  pageItems: {},\n  setPageItems: () => {},\n  toggleItemsPage: {},\n  setToggleItemsPage: () => {},\n  page: {},\n  setPage: () => {},\n});\nconst root = document.getElementById('root');\n\nexport const ProductsProvider = ({ children }) => {\n  const [productsList] = useState({ phones, tablets, watches });\n  const [appliedValue, setAppliedValue] = useState(initialValue);\n  const applyValue = useCallback(debounce(setAppliedValue, 1000), []);\n  const [sortCarts, setSortCarts] = useState(initialSortSelect);\n  const [toggleSort, setToggleSort] = useState(initialToggleSelect);\n  const [pageItems, setPageItems] = useState(initialItemsPageSelect)\n  const [toggleItemsPage, setToggleItemsPage] = useState(initialToggleSelect);\n  const [page, setPage] = useState(initialPage);\n  const { pathname } = useLocation();\n  const path = pathname.slice(1);\n  const [favorites, setFavorites] = useState(\n    JSON.parse(localStorage.getItem('favorites')) || []\n  );\n\n  const [carts, setCarts] = useState(\n    JSON.parse(localStorage.getItem('carts')) || []\n  );\n\n  useEffect(() => (\n    localStorage.setItem('favorites', JSON.stringify(favorites))\n  ), [favorites]);\n\n  useEffect(() => (\n    localStorage.setItem('carts', JSON.stringify(carts))\n  ), [carts]);\n\n  useEffect(() => root.scrollIntoView(), [path]);\n\n  const contextValue = useMemo(() => (\n    {\n      favorites,\n      setFavorites,\n      carts,\n      setCarts,\n      productsList,\n      appliedValue,\n      setAppliedValue,\n      applyValue,\n      path,\n      sortCarts,\n      setSortCarts,\n      toggleSort,\n      setToggleSort,\n      pageItems,\n      setPageItems,\n      toggleItemsPage,\n      setToggleItemsPage,\n      setPage,\n      page,\n    }),[ favorites, carts, productsList,\n    appliedValue,applyValue, setAppliedValue,\n    path, sortCarts, toggleSort,\n    pageItems, toggleItemsPage, page\n  ]);\n\n\n  return (\n    <ProductsContext.Provider value={contextValue}>\n      {children}\n    </ProductsContext.Provider>\n  )\n}\n\nProductsProvider.propTypes = {\n  children: PropTypes.array.isRequired,\n};"]},"metadata":{},"sourceType":"module"}