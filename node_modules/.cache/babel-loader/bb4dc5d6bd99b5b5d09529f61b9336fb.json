{"ast":null,"code":"var _jsxFileName = \"/Users/katerynashvetsova/Documents/projects/react_phone-catalog/src/ProductsProvider.jsx\";\nimport React, { useMemo, useState, useEffect, useCallback } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { PropTypes } from 'prop-types';\nimport products from './data/products.json';\nimport { debounce } from './helpers/debounce';\nimport { initialValue } from './helpers/search';\nimport { initialSortSelect, initialToggleSelect, initialItemsPageSelect } from './helpers/select';\nexport const ProductsContext = React.createContext({\n  favourites: [],\n  setFavorites: () => {},\n  carts: [],\n  setCarts: () => {},\n  productsList: {},\n  appliedValue: {},\n  setAppliedValue: () => {},\n  applyValue: () => {},\n  path: '',\n  sortCarts: {},\n  setSortCarts: () => {},\n  setToggleSort: () => {},\n  toggleSort: {},\n  pageItems: {},\n  setPageItems: () => {},\n  toggleItemsPage: {},\n  setToggleItemsPage: () => {}\n});\nexport const ProductsProvider = ({\n  children\n}) => {\n  const [productsList] = useState({\n    phones: products,\n    tablets: products.slice(0, 10),\n    accessories: products.slice(0, 5)\n  });\n  const [appliedValue, setAppliedValue] = useState(initialValue);\n  const applyValue = useCallback(debounce(setAppliedValue, 1000), []);\n  const [sortCarts, setSortCarts] = useState(initialSortSelect);\n  const [toggleSort, setToggleSort] = useState(initialToggleSelect);\n  const [pageItems, setPageItems] = useState(initialItemsPageSelect);\n  const [toggleItemsPage, setToggleItemsPage] = useState(initialToggleSelect);\n  const [page, setPage] = use;\n  console.log(productsList.length);\n  const {\n    pathname\n  } = useLocation();\n  const path = pathname.slice(1);\n  const [favorites, setFavorites] = useState(JSON.parse(localStorage.getItem('favorites')) || []);\n  const [carts, setCarts] = useState(JSON.parse(localStorage.getItem('carts')) || []); // console.log(favorites.filter);\n  // console.log(products.filter(item => favorites.includes(item.id)));\n\n  useEffect(() => localStorage.setItem('favorites', JSON.stringify(favorites)), [favorites]);\n  useEffect(() => localStorage.setItem('carts', JSON.stringify(carts)), [carts]);\n  const contextValue = useMemo(() => ({\n    favorites,\n    setFavorites,\n    carts,\n    setCarts,\n    productsList,\n    appliedValue,\n    setAppliedValue,\n    applyValue,\n    path,\n    sortCarts,\n    setSortCarts,\n    toggleSort,\n    setToggleSort,\n    pageItems,\n    setPageItems,\n    toggleItemsPage,\n    setToggleItemsPage\n  }), [favorites, carts, productsList, appliedValue, applyValue, setAppliedValue, path, sortCarts, toggleSort, pageItems, toggleItemsPage]);\n  return /*#__PURE__*/React.createElement(ProductsContext.Provider, {\n    value: contextValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 5\n    }\n  }, children);\n};\nProductsProvider.propTypes = {\n  children: PropTypes.array.isRequired\n};","map":{"version":3,"sources":["/Users/katerynashvetsova/Documents/projects/react_phone-catalog/src/ProductsProvider.jsx"],"names":["React","useMemo","useState","useEffect","useCallback","useLocation","PropTypes","products","debounce","initialValue","initialSortSelect","initialToggleSelect","initialItemsPageSelect","ProductsContext","createContext","favourites","setFavorites","carts","setCarts","productsList","appliedValue","setAppliedValue","applyValue","path","sortCarts","setSortCarts","setToggleSort","toggleSort","pageItems","setPageItems","toggleItemsPage","setToggleItemsPage","ProductsProvider","children","phones","tablets","slice","accessories","page","setPage","use","console","log","length","pathname","favorites","JSON","parse","localStorage","getItem","setItem","stringify","contextValue","propTypes","array","isRequired"],"mappings":"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","sourcesContent":["import React, { useMemo, useState, useEffect, useCallback } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { PropTypes } from 'prop-types';\nimport products from './data/products.json';\nimport { debounce } from './helpers/debounce';\nimport { initialValue } from './helpers/search';\nimport { initialSortSelect, initialToggleSelect, initialItemsPageSelect } from './helpers/select';\n\n\nexport const ProductsContext = React.createContext({\n  favourites: [],\n  setFavorites: () => {},\n  carts: [],\n  setCarts: () => {},\n  productsList: {},\n  appliedValue: {},\n  setAppliedValue: () => {},\n  applyValue: () => {},\n  path: '',\n  sortCarts: {},\n  setSortCarts: () => {},\n  setToggleSort: () => {},\n  toggleSort: {},\n  pageItems: {},\n  setPageItems: () => {},\n  toggleItemsPage: {},\n  setToggleItemsPage: () => {},\n});\n\nexport const ProductsProvider = ({ children }) => {\n  const [productsList] = useState({\n    phones: products,\n    tablets: products.slice(0, 10),\n    accessories: products.slice(0, 5),\n  });\n  const [appliedValue, setAppliedValue] = useState(initialValue);\n  const applyValue = useCallback(debounce(setAppliedValue, 1000), []);\n  const [sortCarts, setSortCarts] = useState(initialSortSelect);\n  const [toggleSort, setToggleSort] = useState(initialToggleSelect);\n  const [pageItems, setPageItems] = useState(initialItemsPageSelect)\n  const [toggleItemsPage, setToggleItemsPage] = useState(initialToggleSelect);\n  const [page, setPage] = use\n\n  console.log(productsList.length);\n\n  const { pathname } = useLocation();\n  const path = pathname.slice(1);\n  const [favorites, setFavorites] = useState(\n    JSON.parse(localStorage.getItem('favorites')) || []\n  );\n  const [carts, setCarts] = useState(\n    JSON.parse(localStorage.getItem('carts')) || []\n  );\n  // console.log(favorites.filter);\n  // console.log(products.filter(item => favorites.includes(item.id)));\n  useEffect(() => (\n    localStorage.setItem('favorites', JSON.stringify(favorites))\n  ), [favorites]);\n\n  useEffect(() => (\n    localStorage.setItem('carts', JSON.stringify(carts))\n  ), [carts]);\n\n  const contextValue = useMemo(() => (\n    {\n      favorites,\n      setFavorites,\n      carts,\n      setCarts,\n      productsList,\n      appliedValue,\n      setAppliedValue,\n      applyValue,\n      path,\n      sortCarts,\n      setSortCarts,\n      toggleSort,\n      setToggleSort,\n      pageItems,\n      setPageItems,\n      toggleItemsPage,\n      setToggleItemsPage,\n    }\n  ), [favorites, carts, productsList, appliedValue,applyValue, setAppliedValue,\n    path, sortCarts, toggleSort, pageItems, toggleItemsPage]);\n\n\n  return (\n    <ProductsContext.Provider value={contextValue}>\n      {children}\n    </ProductsContext.Provider>\n  )\n}\n\nProductsProvider.propTypes = {\n  children: PropTypes.array.isRequired,\n};"]},"metadata":{},"sourceType":"module"}