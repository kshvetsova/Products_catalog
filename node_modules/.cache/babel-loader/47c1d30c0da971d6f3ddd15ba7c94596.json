{"ast":null,"code":"import _toConsumableArray from\"/Users/katerynashvetsova/Documents/projects/products_catalog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/katerynashvetsova/Documents/projects/products_catalog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import classNames from'classnames';import{initialImages}from'../../helpers/initial-images';import'./PromoSlider.scss';export var PromoSlider=function PromoSlider(){var _useState=useState(_toConsumableArray(initialImages)),_useState2=_slicedToArray(_useState,2),images=_useState2[0],setImages=_useState2[1];var _useState3=useState(Math.ceil(window.innerWidth*72.2/100)),_useState4=_slicedToArray(_useState3,2),imageWidth=_useState4[0],setImageWidth=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),currentPosition=_useState6[0],setCurrentPosition=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),currentImage=_useState8[0],setCurrentImage=_useState8[1];var handleResize=function handleResize(){setImageWidth(Math.ceil(window.innerWidth*72.2/100));};var handleClickNext=function handleClickNext(){window.addEventListener('resize',handleResize);var position=currentPosition-imageWidth;setImages([].concat(_toConsumableArray(images.slice(1)),_toConsumableArray(images.splice(0,1))));setCurrentPosition(position);setCurrentImage(currentImage<5?currentImage+1:0);};var handleClickPrev=function handleClickPrev(){window.addEventListener('resize',handleResize);var position=currentPosition+imageWidth;setImages([].concat(_toConsumableArray(images.splice(-1)),_toConsumableArray(images)));setCurrentPosition(position);setCurrentImage(currentImage===0?5:currentImage-1);};useEffect(function(){var intervalId=setInterval(function(){return handleClickNext();},5000);return function(){clearInterval(intervalId);};});return/*#__PURE__*/React.createElement(\"div\",{className:\"PromoSlider\"},/*#__PURE__*/React.createElement(\"div\",{className:\"PromoSlider-Block\"},/*#__PURE__*/React.createElement(\"button\",{className:\"PromoSlider-Button\",onClick:handleClickPrev},/*#__PURE__*/React.createElement(\"img\",{src:\"./img/icons-page/prev.svg\",alt:\"Prev\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"PromoSlider-Container\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"PromoSlider-List\",style:{transition:\"transform \".concat(500,\"ms\"),transform:\"translateX(\".concat(currentPosition,\"px)\"),marginLeft:\"\".concat(currentPosition?-(currentPosition+imageWidth):0,\"px\")}},images.map(function(image){return/*#__PURE__*/React.createElement(\"li\",{className:\"PromoSlider-Item\",key:image},/*#__PURE__*/React.createElement(\"img\",{src:image,alt:image,className:\"image\"}));}))),/*#__PURE__*/React.createElement(\"button\",{className:\"PromoSlider-Button\",onClick:handleClickNext},/*#__PURE__*/React.createElement(\"img\",{src:\"./img/icons-page/next.svg\",alt:\"Next\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"PromoSlider-BlockButtons\"},_toConsumableArray(initialImages).map(function(_,index){return/*#__PURE__*/React.createElement(\"button\",{key:index+1,type:\"button\",className:classNames(\"PromoSlider-SliderButton\",{button_active:index===currentImage})});})));};","map":{"version":3,"sources":["/Users/katerynashvetsova/Documents/projects/products_catalog/src/components/PromoSlider/PromoSlider.jsx"],"names":["React","useEffect","useState","classNames","initialImages","PromoSlider","images","setImages","Math","ceil","window","innerWidth","imageWidth","setImageWidth","currentPosition","setCurrentPosition","currentImage","setCurrentImage","handleResize","handleClickNext","addEventListener","position","slice","splice","handleClickPrev","intervalId","setInterval","clearInterval","transition","transform","marginLeft","map","image","_","index","button_active"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport classNames from 'classnames';\nimport { initialImages } from '../../helpers/initial-images';\nimport './PromoSlider.scss';\n\nexport const PromoSlider = () => {\n  const [images, setImages] = useState([...initialImages]);\n  const [imageWidth, setImageWidth] = useState(\n    Math.ceil(window.innerWidth * 72.2 /100)\n  );\n  const [currentPosition, setCurrentPosition] = useState(1);\n  const [currentImage, setCurrentImage] = useState(0);\n\n  const handleResize = () => {\n    setImageWidth(Math.ceil(window.innerWidth * 72.2 /100))\n  }\n\n  const handleClickNext = () => {\n    window.addEventListener('resize', handleResize);\n    let position = currentPosition - imageWidth;\n    setImages([...images.slice(1), ...images.splice(0, 1)]);\n    setCurrentPosition(position);\n    setCurrentImage(currentImage < 5 ? currentImage + 1 : 0);\n  };\n\n  const handleClickPrev = () => {\n    window.addEventListener('resize', handleResize);\n    let position = currentPosition + imageWidth;\n    setImages([...images.splice(-1), ...images]);\n    setCurrentPosition(position);\n    setCurrentImage(currentImage === 0 ? 5 : currentImage - 1);\n  };\n\n  useEffect(() => {\n    const intervalId = setInterval(() => handleClickNext(), 5000);\n\n    return () => {\n        clearInterval(intervalId);\n      }\n  });\n\n  return (\n    <div className=\"PromoSlider\">\n      <div className=\"PromoSlider-Block\">\n        <button\n          className=\"PromoSlider-Button\"\n          onClick={handleClickPrev}\n        >\n          <img src=\"./img/icons-page/prev.svg\" alt=\"Prev\"/>\n        </button>\n        <div className=\"PromoSlider-Container\">\n          <ul\n            className=\"PromoSlider-List\"\n            style={{\n              transition: `transform ${500}ms`,\n              transform: `translateX(${currentPosition}px)`,\n              marginLeft: `${currentPosition ?\n                -(currentPosition+imageWidth)\n                : 0}px`,\n            }}\n          >\n            {images.map((image) => (\n              <li className=\"PromoSlider-Item\" key={image}>\n                <img\n                  src={image}\n                  alt={image}\n                  className=\"image\"\n                />\n              </li>\n            ))}\n          </ul>\n        </div>\n        <button className=\"PromoSlider-Button\" onClick={handleClickNext}>\n          <img src=\"./img/icons-page/next.svg\" alt=\"Next\"/>\n        </button>\n      </div>\n      <div className=\"PromoSlider-BlockButtons\">\n        {[...initialImages].map((_, index) => (\n          <button\n            key={index + 1}\n            type=\"button\"\n            className={classNames(\"PromoSlider-SliderButton\", {\n              button_active: index === currentImage,\n            })}\n          >\n            {}\n          </button>\n        ))}\n      </div>\n    </div>\n  )\n}"]},"metadata":{},"sourceType":"module"}