{"ast":null,"code":"import _toConsumableArray from\"/Users/katerynashvetsova/Documents/projects/products_catalog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/katerynashvetsova/Documents/projects/products_catalog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useMemo,useCallback,useContext}from'react';import'./ProductDetailsPage.scss';import{useNavigate,useParams,NavLink}from'react-router-dom';import details from'../../data/details.json';import classNames from'classnames';import{Buttons}from'../Buttons';import{ProductsSlider}from'../ProductsSlider';import{ProductsContext}from'../../ProductsProvider';export var ProductDetailsPage=React.memo(function(){var _useContext=useContext(ProductsContext),productsList=_useContext.productsList;var _ref=useParams()||'0',productId=_ref.productId,typeProduct=_ref.typeProduct;var navigate=useNavigate();var _useState=useState(productsList[typeProduct].find(function(item){return item.id===+productId;})),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),image=_useState4[0],setImage=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),imageHover=_useState6[0],setImageHover=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),colorList=_useState8[0],setColorList=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),optionList=_useState10[0],setOptionList=_useState10[1];var name=product.name,images=product.images,model=product.model,color=product.color,id=product.id,type=product.type,option=product.option,price=product.price,tech=product.tech;useEffect(function(){setProduct(productsList[typeProduct].find(function(item){return item.id===+productId;}));},[productId,typeProduct]);useEffect(function(){setImage(images[0]);if(product){var productItem=details.find(function(item){return item.models===model;});setColorList(productItem?productItem.colors:[]);setOptionList(productItem?productItem.options:[]);}},[productId,typeProduct,product]);var findProductColor=useCallback(function(colorItem){return productsList[typeProduct].find(function(item){return item.color===colorItem&&item.type===typeProduct&&item.option===option&&item.model===model;}).id;},[productId,product]);var findProductOption=useCallback(function(optionItem){return productsList[typeProduct].find(function(item){return item.color===color&&item.type===typeProduct&&item.option===optionItem&&item.model===model;}).id;},[productId,product]);var detailsProduct=useMemo(function(){var productItem=_toConsumableArray(details).find(function(item){return item.models===model&&item.type===type;});return{description:productItem?productItem.about:[],techSpecsList:productItem?productItem.specs:[]};},[product]);var productsSlider=useMemo(function(){return _toConsumableArray(productsList[typeProduct]).filter(function(item){return item.id!==+productId;});},[productId]);return/*#__PURE__*/React.createElement(\"div\",{className:\"ProductDetailsPage\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ProductDetailsPage-Breadcrumbs Breadcrumbs\"},/*#__PURE__*/React.createElement(\"div\",{className:\"Breadcrumbs-List\"},/*#__PURE__*/React.createElement(NavLink,{className:\"Breadcrumbs-Item\",to:\"/home\"},/*#__PURE__*/React.createElement(\"img\",{src:\"./img/icons-page/home.svg\",alt:\"Home\"})),/*#__PURE__*/React.createElement(\"img\",{src:\"./img/icons-page/next-disabled.svg\",alt:\"Next\",className:\"Breadcrumbs-Item\"}),/*#__PURE__*/React.createElement(\"button\",{className:\"Breadcrumbs-Item\",onClick:function onClick(){return navigate(\"/\".concat(type));},type:\"button\"},type[0].toUpperCase()+type.slice(1)),/*#__PURE__*/React.createElement(\"img\",{src:\"./img/icons-page/next-disabled.svg\",alt:\"Next\",className:\"Breadcrumbs-Item\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"Breadcrumbs-Item\"},name)),/*#__PURE__*/React.createElement(\"div\",{className:\"Breadcrumbs-Back Back\"},/*#__PURE__*/React.createElement(\"img\",{src:\"./img/icons-page/prev.svg\",alt:\"Prev\"}),/*#__PURE__*/React.createElement(\"button\",{className:\"Back-Button\",type:\"button\",onClick:function onClick(){return navigate(-1);}},\"Back\"))),/*#__PURE__*/React.createElement(\"h1\",{className:\"ProductDetailsPage-Title\"},product.name),/*#__PURE__*/React.createElement(\"div\",{className:\"ProductDetailsPage-ContainerTop\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ProductDetailsPage-BlockImages BlockImages\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"BlockImages-List\"},product.images.map(function(item,index){return/*#__PURE__*/React.createElement(\"li\",{key:index,className:classNames('BlockImages-Item',{item_active:item===image,item_size:[\"11 Pro\",\"Air 4\",\"Pro 12.9\\\"\",\"Pro 12.9\\\" M1\"].includes(model)||typeProduct===\"watches\",item_tablets:[\"Pro 11\\\"\",\"8 10.2\\\"\"].includes(model)}),onClick:function onClick(){return setImage(item);},onMouseEnter:function onMouseEnter(){return setImageHover(item);},onMouseLeave:function onMouseLeave(){return setImageHover('');}},/*#__PURE__*/React.createElement(\"img\",{src:\"./\".concat(item),alt:\"Product\",width:\"64px\",height:\"64px\",className:\"imageItem\"}));})),/*#__PURE__*/React.createElement(\"img\",{src:imageHover?\"./\".concat(imageHover):\"./\".concat(image),alt:\"Product\",width:\"200px\",height:\"200px\",className:\"BlockImages-Preview\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"ProductDetailsPage-ContainerOptions\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ProductDetailsPage-BlockOptions BlockOptions\"},/*#__PURE__*/React.createElement(\"div\",{className:\"BlockOptions-Colors Colors\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"Colors-Title\"},\"Available colors\"),/*#__PURE__*/React.createElement(\"ul\",{className:\"Colors-List\"},colorList.map(function(_ref2){var _ref3=_slicedToArray(_ref2,2),item=_ref3[0],hex=_ref3[1];return/*#__PURE__*/React.createElement(\"li\",{key:hex,className:classNames('Colors-Item',{color_active:item===color}),onClick:function onClick(){return navigate(\"/\".concat(type,\"/product/\").concat(findProductColor(item)));}},/*#__PURE__*/React.createElement(\"div\",{className:\"color\",style:{background:\"\".concat(hex),border:\"\".concat(1,\"px solid \",hex)}}));}))),/*#__PURE__*/React.createElement(\"div\",{className:\"BlockOptions-Options Options\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"Options-Title\"},\"Select \",\"\".concat(typeProduct!=='watches'?'capacity':'size')),/*#__PURE__*/React.createElement(\"ul\",{className:\"Options-List\"},optionList.map(function(item){return/*#__PURE__*/React.createElement(\"li\",{key:item,className:classNames('Options-Item',{option_active:item===option}),onClick:function onClick(){return navigate(\"/\".concat(type,\"/product/\").concat(findProductOption(item)));}},item);}))),/*#__PURE__*/React.createElement(\"div\",{className:\"BlockOptions-PriceBlock PriceBlock\"},/*#__PURE__*/React.createElement(\"div\",{className:\"PriceBlock-Price price\"},\"$\".concat(price[0])),/*#__PURE__*/React.createElement(\"div\",{className:\"PriceBlock-Sale\"},price[1]?\"$\".concat(price[1]):'')),/*#__PURE__*/React.createElement(\"div\",{className:\"BlockOptions-Buttons BlockOptions-Buttons_gap\"},/*#__PURE__*/React.createElement(Buttons,{id:id,name:name,price:price[0],image:\"./\".concat(images[0])})),/*#__PURE__*/React.createElement(\"ul\",{className:\"BlockOptions-Details Details\"},tech.map(function(_ref4){var _ref5=_slicedToArray(_ref4,2),name=_ref5[0],value=_ref5[1];return/*#__PURE__*/React.createElement(\"li\",{className:\"Details-Item\",key:value},/*#__PURE__*/React.createElement(\"p\",{className:\"Details-Name\"},name),/*#__PURE__*/React.createElement(\"p\",{className:\"Details-Value\"},value));}))),/*#__PURE__*/React.createElement(\"div\",{className:\"ProductDetailsPage-ProductId\"},\"ID: \",id))),/*#__PURE__*/React.createElement(\"div\",{className:\"ProductDetailsPage-ContainerBottom\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ProductDetailsPage-About About\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"About-Title\"},\"About\"),/*#__PURE__*/React.createElement(\"ul\",{className:\"About-List\"},detailsProduct.description.map(function(_ref6){var _ref7=_slicedToArray(_ref6,2),title=_ref7[0],text=_ref7[1];return/*#__PURE__*/React.createElement(\"li\",{className:\"About-Item\",key:title},/*#__PURE__*/React.createElement(\"h3\",{className:\"About-ItemTitle\"},title),/*#__PURE__*/React.createElement(\"p\",{className:\"About-ItemText\"},text));}))),/*#__PURE__*/React.createElement(\"div\",{className:\"ProductDetailsPage-TechSpecs TechSpecs\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"TechSpecs-Title\"},\"Tech specs\"),/*#__PURE__*/React.createElement(\"ul\",{className:\"TechSpecs-List\"},detailsProduct.techSpecsList.map(function(_ref8){var _ref9=_slicedToArray(_ref8,2),name=_ref9[0],value=_ref9[1];return/*#__PURE__*/React.createElement(\"li\",{className:\"TechSpecs-Item\",key:value},/*#__PURE__*/React.createElement(\"h3\",{className:\"TechSpecs-Name\"},name),/*#__PURE__*/React.createElement(\"p\",{className:\"TechSpecs-Value\"},value));})))),/*#__PURE__*/React.createElement(ProductsSlider,{title:\"You may also like\",products:productsSlider}));});","map":{"version":3,"sources":["/Users/katerynashvetsova/Documents/projects/products_catalog/src/components/ProductDetailsPage/ProductDetailsPage.jsx"],"names":["React","useEffect","useState","useMemo","useCallback","useContext","useNavigate","useParams","NavLink","details","classNames","Buttons","ProductsSlider","ProductsContext","ProductDetailsPage","memo","productsList","productId","typeProduct","navigate","find","item","id","product","setProduct","image","setImage","imageHover","setImageHover","colorList","setColorList","optionList","setOptionList","name","images","model","color","type","option","price","tech","productItem","models","colors","options","findProductColor","colorItem","findProductOption","optionItem","detailsProduct","description","about","techSpecsList","specs","productsSlider","filter","toUpperCase","slice","map","index","item_active","item_size","includes","item_tablets","hex","color_active","background","border","option_active","value","title","text"],"mappings":"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","sourcesContent":["import React, {useEffect, useState, useMemo, useCallback, useContext } from 'react';\nimport './ProductDetailsPage.scss';\nimport { useNavigate, useParams, NavLink } from 'react-router-dom';\nimport details from '../../data/details.json';\nimport classNames from 'classnames';\nimport { Buttons } from '../Buttons';\nimport { ProductsSlider } from '../ProductsSlider';\nimport { ProductsContext } from '../../ProductsProvider';\n\nexport const ProductDetailsPage = React.memo(() => {\n  const { productsList } = useContext(ProductsContext);\n  const { productId, typeProduct } = useParams() || '0';\n  const navigate = useNavigate();\n  const [product, setProduct] = useState(\n    productsList[typeProduct].find(item => item.id === +productId)\n  );\n  const [image, setImage] = useState([]);\n  const [imageHover, setImageHover] = useState('');\n  const [colorList, setColorList] = useState([]);\n  const [optionList, setOptionList] = useState([]);\n  const {\n    name , images, model, color, id , type, option, price, tech\n  } = product;\n\n  useEffect(() => {\n    setProduct(productsList[typeProduct]\n      .find(item => item.id === +productId));\n  }, [productId, typeProduct]);\n\n  useEffect(() => {\n    setImage(images[0]);\n    if (product) {\n      const productItem = details.find(item => item.models === model);\n      setColorList(productItem ? productItem.colors : []);\n      setOptionList(productItem ? productItem.options : []);\n    }\n}, [productId, typeProduct, product]);\n\n  const findProductColor = useCallback((colorItem) => (\n    productsList[typeProduct].find(item => (\n      item.color === colorItem &&\n      item.type === typeProduct &&\n      item.option === option &&\n      item.model === model)).id\n  ), [productId, product]);\n\n  const findProductOption = useCallback((optionItem) => (\n    productsList[typeProduct].find(item => (\n      item.color === color &&\n      item.type === typeProduct &&\n      item.option === optionItem &&\n      item.model === model)).id\n  ), [productId, product]);\n\n  const detailsProduct = useMemo(() => {\n    const productItem = [...details]\n      .find(item => item.models === model && item.type === type);\n\n    return {\n      description: productItem? productItem.about : [],\n      techSpecsList: productItem? productItem.specs : [],\n    }\n  }, [product]);\n\n  const productsSlider = useMemo(() => [...productsList[typeProduct]]\n    .filter(item => item.id !== +productId)\n  , [productId]);\n\n\n  return (\n    <div className=\"ProductDetailsPage\">\n      <div className=\"ProductDetailsPage-Breadcrumbs Breadcrumbs\">\n        <div className=\"Breadcrumbs-List\">\n          <NavLink className=\"Breadcrumbs-Item\" to=\"/home\">\n            <img src=\"./img/icons-page/home.svg\" alt=\"Home\"/>\n          </NavLink>\n          <img\n            src=\"./img/icons-page/next-disabled.svg\"\n            alt=\"Next\"\n            className=\"Breadcrumbs-Item\"\n          />\n          <button\n            className=\"Breadcrumbs-Item\"\n            onClick={() => navigate(`/${type}`)}\n            type=\"button\"\n          >\n            {type[0].toUpperCase() + type.slice(1)}\n          </button>\n          <img src=\"./img/icons-page/next-disabled.svg\" alt=\"Next\" className=\"Breadcrumbs-Item\"/>\n          <p className=\"Breadcrumbs-Item\">{name}</p>\n        </div>\n        <div className=\"Breadcrumbs-Back Back\">\n          <img src=\"./img/icons-page/prev.svg\" alt=\"Prev\"/>\n          <button\n            className=\"Back-Button\"\n            type=\"button\"\n            onClick={() => navigate(-1)}\n          >\n            Back\n          </button>\n        </div>\n      </div>\n      <h1 className=\"ProductDetailsPage-Title\">{product.name}</h1>\n      <div className=\"ProductDetailsPage-ContainerTop\">\n        <div className=\"ProductDetailsPage-BlockImages BlockImages\">\n          <ul className=\"BlockImages-List\">\n            {product.images.map((item, index) => (\n              <li\n                key={index}\n                className={classNames('BlockImages-Item', {\n                  item_active: item === image,\n                  item_size: [\"11 Pro\", \"Air 4\", \"Pro 12.9\\\"\", \"Pro 12.9\\\" M1\"].includes(model) || typeProduct === \"watches\",\n                  item_tablets: [\"Pro 11\\\"\", \"8 10.2\\\"\"].includes(model),\n                })}\n                onClick={() => setImage(item)}\n                onMouseEnter={() => setImageHover(item)}\n                onMouseLeave={() => setImageHover('')}\n              >\n                <img\n                  src={`./${item}`}\n                  alt=\"Product\"\n                  width=\"64px\"\n                  height=\"64px\"\n                  className=\"imageItem\"\n                />\n              </li>\n            ))}\n          </ul>\n          <img\n            src={imageHover ? `./${imageHover}` : `./${image}`}\n            alt=\"Product\"\n            width=\"200px\"\n            height=\"200px\"\n            className=\"BlockImages-Preview\"\n          />\n        </div>\n        <div className=\"ProductDetailsPage-ContainerOptions\">\n          <div className=\"ProductDetailsPage-BlockOptions BlockOptions\">\n            <div className=\"BlockOptions-Colors Colors\">\n              <h3 className=\"Colors-Title\">Available colors</h3>\n              <ul className=\"Colors-List\">\n                {colorList.map(([item, hex ]) => (\n                  <li\n                    key={hex}\n                    className={classNames('Colors-Item', {\n                      color_active: item === color,\n                    })}\n                    onClick={() => navigate(\n                      `/${type}/product/${findProductColor(item)}`\n                    )}\n                  >\n                    <div\n                      className=\"color\"\n                      style={{\n                        background: `${hex}`,\n                        border: `${1}px solid ${hex}`\n                      }}\n                    >{}</div>\n                  </li>\n                ))}\n              </ul>\n            </div>\n            <div className=\"BlockOptions-Options Options\">\n              <h3 className=\"Options-Title\">\n                Select {`${typeProduct !== 'watches' ? 'capacity' : 'size'}`}\n              </h3>\n              <ul className=\"Options-List\">\n                {optionList.map(item => (\n                  <li\n                    key={item}\n                    className={classNames('Options-Item', {\n                      option_active: item === option,\n                    })}\n                    onClick={() => navigate(\n                      `/${type}/product/${findProductOption(item)}`\n                    )}\n                  >\n                    {item}\n                  </li>\n                ))}\n              </ul>\n            </div>\n            <div className=\"BlockOptions-PriceBlock PriceBlock\">\n              <div className=\"PriceBlock-Price price\">\n                {`$${price[0]}`}\n              </div>\n              <div className=\"PriceBlock-Sale\">\n                {price[1] ? `$${price[1]}` : ''}\n              </div>\n            </div>\n            <div className=\"BlockOptions-Buttons BlockOptions-Buttons_gap\">\n              <Buttons\n                id={id}\n                name={name}\n                price={price[0]}\n                image={`./${images[0]}`}\n              />\n            </div>\n            <ul className=\"BlockOptions-Details Details\">\n              {tech.map(([name, value]) => (\n                <li className=\"Details-Item\" key={value}>\n                  <p className=\"Details-Name\">{name}</p>\n                  <p className=\"Details-Value\">{value}</p>\n                </li>\n              ))}\n            </ul>\n          </div>\n          <div className=\"ProductDetailsPage-ProductId\">ID: {id}</div>\n        </div>\n      </div>\n      <div className=\"ProductDetailsPage-ContainerBottom\">\n        <div className=\"ProductDetailsPage-About About\">\n          <h2 className=\"About-Title\">About</h2>\n          <ul className=\"About-List\">\n            {detailsProduct.description.map(([title, text]) => (\n               <li className=\"About-Item\" key={title}>\n                 <h3 className=\"About-ItemTitle\">{title}</h3>\n                 <p className=\"About-ItemText\">{text}</p>\n               </li>\n            ))}\n          </ul>\n        </div>\n        <div className=\"ProductDetailsPage-TechSpecs TechSpecs\">\n          <h2 className=\"TechSpecs-Title\">Tech specs</h2>\n          <ul className=\"TechSpecs-List\">\n            {detailsProduct.techSpecsList.map(([name, value]) => (\n               <li className=\"TechSpecs-Item\" key={value}>\n                 <h3 className=\"TechSpecs-Name\">{name}</h3>\n                 <p className=\"TechSpecs-Value\">{value}</p>\n               </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n      <ProductsSlider title=\"You may also like\" products={productsSlider} />\n    </div>\n  )\n})\n"]},"metadata":{},"sourceType":"module"}