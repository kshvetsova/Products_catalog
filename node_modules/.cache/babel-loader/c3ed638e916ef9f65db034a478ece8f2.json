{"ast":null,"code":"import _slicedToArray from\"/Users/katerynashvetsova/Documents/projects/react_phone-catalog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{getSliderWidth,getCartLength,getMargin,getMarginLeft}from'../../helpers/slider';import{Product}from'../Product';import'./ProductsSlider.scss';export var ProductsSlider=function ProductsSlider(_ref){var title=_ref.title,products=_ref.products;var _useState=useState(getSliderWidth()),_useState2=_slicedToArray(_useState,2),sliderWidth=_useState2[0],setSliderWidth=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),currentPosition=_useState4[0],setCurrentPosition=_useState4[1];var _useState5=useState(getCartLength()),_useState6=_slicedToArray(_useState5,2),cartLength=_useState6[0],setCartLength=_useState6[1];var _useState7=useState(getMargin()),_useState8=_slicedToArray(_useState7,2),margin=_useState8[0],setMargin=_useState8[1];var _useState9=useState(getMarginLeft()),_useState10=_slicedToArray(_useState9,2),marginLeft=_useState10[0],setMarginLeft=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),buttonDisabled=_useState12[0],setButtonDisabled=_useState12[1];var handleResize=function handleResize(){setSliderWidth(getSliderWidth());setCartLength(getCartLength());setMargin(getMargin());setMarginLeft(getMarginLeft());};window.addEventListener('resize',handleResize);var handleClickPrev=function handleClickPrev(){window.addEventListener('resize',handleResize);var position=currentPosition+(cartLength===1?sliderWidth-marginLeft/2:sliderWidth+margin);if(position>0){position=0;}else{setButtonDisabled(false);}setCurrentPosition(position);};var handleClickNext=function handleClickNext(){window.addEventListener('resize',handleResize);var position=currentPosition-(cartLength===1?sliderWidth-marginLeft/2:sliderWidth+margin);var maxPosition=(products.length-cartLength)/cartLength*(cartLength===1?sliderWidth-marginLeft/2:sliderWidth+margin);if(-position>=maxPosition){position=-maxPosition;setButtonDisabled(true);}setCurrentPosition(position);};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"ProductsSlider\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ProductsSlider-Container\"},/*#__PURE__*/React.createElement(\"p\",{className:\"ProductsSlider-Title\"},title),/*#__PURE__*/React.createElement(\"div\",{className:\"ProductsSlider-ButtonsBlock ButtonsBlock\"},/*#__PURE__*/React.createElement(\"button\",{className:\"ButtonsBlock-Slider ButtonsBlock-Slider_prev\",onClick:handleClickPrev,disabled:!currentPosition}),/*#__PURE__*/React.createElement(\"button\",{className:\"ButtonsBlock-Slider ButtonsBlock-Slider_next\",onClick:handleClickNext,disabled:buttonDisabled}))),/*#__PURE__*/React.createElement(\"div\",{className:\"ProductsSlider-Slider\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ProductsSlider-Content\",style:{transition:\"transform \".concat(1000,\"ms\"),transform:\"translateX(\".concat(currentPosition,\"px)\"),marginLeft:\"-\".concat(currentPosition+sliderWidth)}},products.map(function(product){return/*#__PURE__*/React.createElement(\"div\",{className:\"ProductsSlider-Product\",key:product.id,style:{marginRight:\"\".concat(sliderWidth<555?0:margin,\"px\"),marginLeft:\"\".concat(sliderWidth<555?marginLeft/2:0,\"px\")}},/*#__PURE__*/React.createElement(Product,product));})))));};","map":{"version":3,"sources":["/Users/katerynashvetsova/Documents/projects/react_phone-catalog/src/components/ProductsSlider/ProductsSlider.jsx"],"names":["React","useState","getSliderWidth","getCartLength","getMargin","getMarginLeft","Product","ProductsSlider","title","products","sliderWidth","setSliderWidth","currentPosition","setCurrentPosition","cartLength","setCartLength","margin","setMargin","marginLeft","setMarginLeft","buttonDisabled","setButtonDisabled","handleResize","window","addEventListener","handleClickPrev","position","handleClickNext","maxPosition","length","transition","transform","map","product","id","marginRight"],"mappings":"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","sourcesContent":["import React , { useState } from 'react';\nimport { getSliderWidth , getCartLength, getMargin, getMarginLeft} from '../../helpers/slider';\nimport { PropTypes } from 'prop-types';\nimport { Product } from '../Product';\nimport './ProductsSlider.scss';\n\n\nexport const ProductsSlider = ({ title, products }) => {\n  const [sliderWidth, setSliderWidth] = useState(getSliderWidth())\n  const [currentPosition, setCurrentPosition] = useState(0);\n  const [cartLength, setCartLength] = useState(getCartLength());\n  const [margin, setMargin] = useState(getMargin());\n  const [marginLeft, setMarginLeft] = useState(getMarginLeft());\n  const [buttonDisabled, setButtonDisabled] = useState(false);\n\n  const handleResize = () => {\n      setSliderWidth(getSliderWidth());\n      setCartLength(getCartLength());\n      setMargin(getMargin());\n      setMarginLeft(getMarginLeft())\n    };\n  window.addEventListener('resize', handleResize);\n\n  const handleClickPrev = () => {\n    window.addEventListener('resize', handleResize);\n    let position = currentPosition + (cartLength ===1\n      ? sliderWidth - (marginLeft / 2)\n      : sliderWidth + margin);\n\n    if (position > 0) {\n      position = 0;\n    } else {\n      setButtonDisabled(false);\n    }\n    setCurrentPosition(position);\n  };\n\n  const handleClickNext = () => {\n    window.addEventListener('resize', handleResize);\n    let position = currentPosition - (cartLength === 1 ?\n      (sliderWidth - (marginLeft / 2)) : (sliderWidth + margin));\n    let maxPosition = ((products.length - cartLength) / cartLength) *\n      (cartLength === 1\n        ? sliderWidth - marginLeft / 2\n        : sliderWidth + margin);\n\n    if (-(position) >= maxPosition) {\n      position = -maxPosition;\n      setButtonDisabled(true);\n    }\n\n    setCurrentPosition(position);\n  };\n\n  return (\n    <>\n      <div className=\"ProductsSlider\">\n        <div className=\"ProductsSlider-Container\">\n          <p className=\"ProductsSlider-Title\">{title}</p>\n          <div className=\"ProductsSlider-ButtonsBlock ButtonsBlock\">\n            <button\n              className=\"ButtonsBlock-Slider ButtonsBlock-Slider_prev\"\n              onClick={handleClickPrev}\n              disabled={!currentPosition}\n            >\n              {}\n            </button>\n            <button\n              className=\"ButtonsBlock-Slider ButtonsBlock-Slider_next\"\n              onClick={handleClickNext}\n              disabled={buttonDisabled}\n            >\n              {}\n            </button>\n          </div>\n        </div>\n        <div className=\"ProductsSlider-Slider\">\n          <div\n            className=\"ProductsSlider-Content\"\n            style={{\n              transition: `transform ${1000}ms`,\n              transform: `translateX(${currentPosition}px)`,\n              marginLeft: `-${(currentPosition + sliderWidth)}`\n            }}\n          >\n            {products.map(product => (\n              <div\n                className=\"ProductsSlider-Product\"\n                key={product.id}\n                style={{\n                  marginRight: `${sliderWidth < 555 ? 0 : margin}px`,\n                  marginLeft: `${sliderWidth < 555 ? marginLeft / 2 : 0}px`\n                }}\n              >\n                <Product {...product} />\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </>\n  )\n}\n\nProductsSlider.propTypes = {\n  products: PropTypes.arrayOf(PropTypes.object.isRequired).isRequired,\n}\n"]},"metadata":{},"sourceType":"module"}