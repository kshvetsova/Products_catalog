{"ast":null,"code":"var _jsxFileName = \"/Users/katerynashvetsova/Documents/projects/react_phone-catalog/src/components/CartSlider/CartSlider.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { getSliderWidth, getCartLength, getMargin, getMarginLeft } from '../../helpers/slider';\nimport classNames from 'classnames';\nimport './CartSlider.scss';\nexport const CartSlider = () => {\n  const [carts, setCarts] = useState(['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18']);\n  const [sliderWidth, setSliderWidth] = useState('');\n  const [disabled] = useState('1');\n  const [currentPosition, setCurrentPosition] = useState(0);\n  const [margin, setMargin] = useState('');\n  const [marginLeft, setMarginLeft] = useState('');\n  const [buttonNext, setButtonNext] = useState(1);\n  const [buttonPrev, setButtonPrev] = useState(''); // console.log(currentPosition);\n\n  const handleResize = () => {\n    const width = getSliderWidth();\n    setSliderWidth(width);\n    setMargin(getMargin());\n    setMarginLeft(getMarginLeft);\n  };\n\n  window.addEventListener('resize', handleResize);\n  useEffect(() => {\n    setSliderWidth(getSliderWidth);\n    setMargin(getMargin);\n    setMarginLeft(getMarginLeft);\n  }, [window.addEventListener('resize', handleResize)]);\n\n  const handleClickPrev = () => {\n    window.addEventListener('resize', handleResize);\n    let position = currentPosition + (sliderWidth < 655 ? sliderWidth - marginLeft / 2 : sliderWidth + margin);\n\n    if (position > 0) {\n      position = 0;\n      setButtonPrev(\"\");\n    }\n\n    if (position < 0) {\n      setButtonPrev(1);\n    }\n\n    setCurrentPosition(position);\n  };\n\n  const handleClickNext = () => {\n    window.addEventListener('resize', handleResize);\n    let cartLength = getCartLength();\n    let position = currentPosition - (sliderWidth < 655 ? sliderWidth - marginLeft / 2 : sliderWidth + margin);\n    let maxPosition = (carts.length - cartLength) / cartLength * (sliderWidth < 655 ? sliderWidth - marginLeft / 2 : sliderWidth + margin);\n\n    if (-position > maxPosition) {\n      position = -maxPosition; // setButtonNext(1);\n      // console.log(1);\n\n      setButtonNext('');\n    }\n\n    if (-position < maxPosition) {\n      setButtonNext(1);\n    } // setButtonNext(2);\n    // console.log(2);\n\n\n    setCurrentPosition(position); // setButtonNext(1)\n  };\n\n  console.log(currentPosition, buttonPrev, buttonNext);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"CartSlider\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"CartSlider-Container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"CartSlider-Title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, \"Title\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"CartSlider-Buttons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: classNames('button_cart', {\n      prev_disabled: currentPosition === 0,\n      button_prev: currentPosition < 0\n    }),\n    onClick: handleClickPrev,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: classNames('button_cart', {\n      next_disabled: !buttonNext,\n      button_next: buttonP\n    }),\n    onClick: handleClickNext,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"CartSlider-Slider\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"CartSlider-Content\",\n    style: {\n      transition: `transform ${1000}ms`,\n      transform: `translateX(${currentPosition}px)`,\n      marginLeft: `-${currentPosition + sliderWidth}`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, carts.map(item => /*#__PURE__*/React.createElement(\"div\", {\n    key: item,\n    className: \"Cart\",\n    style: {\n      marginRight: `${sliderWidth < 655 ? 0 : margin}px`,\n      marginLeft: `${sliderWidth < 655 ? marginLeft / 2 : 0}px`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: `./img/slider/1.jpg`,\n    className: \"Cart-Image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }))))));\n};","map":{"version":3,"sources":["/Users/katerynashvetsova/Documents/projects/react_phone-catalog/src/components/CartSlider/CartSlider.jsx"],"names":["React","useState","useEffect","getSliderWidth","getCartLength","getMargin","getMarginLeft","classNames","CartSlider","carts","setCarts","sliderWidth","setSliderWidth","disabled","currentPosition","setCurrentPosition","margin","setMargin","marginLeft","setMarginLeft","buttonNext","setButtonNext","buttonPrev","setButtonPrev","handleResize","width","window","addEventListener","handleClickPrev","position","handleClickNext","cartLength","maxPosition","length","console","log","prev_disabled","button_prev","next_disabled","button_next","buttonP","transition","transform","map","item","marginRight"],"mappings":";AAAA,OAAOA,KAAP,IAAiBC,QAAjB,EAA2BC,SAA3B,QAA4C,OAA5C;AACA,SAASC,cAAT,EAA0BC,aAA1B,EAAyCC,SAAzC,EAAoDC,aAApD,QAAwE,sBAAxE;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAO,mBAAP;AAGA,OAAO,MAAMC,UAAU,GAAG,MAAM;AAC9B,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,CAAC,GAAD,EAAO,GAAP,EAAY,GAAZ,EAAiB,GAAjB,EAAsB,GAAtB,EAA2B,GAA3B,EAAgC,GAAhC,EAAsC,GAAtC,EAA2C,GAA3C,EAAgD,IAAhD,EAAsD,IAAtD,EAA4D,IAA5D,EAAkE,IAAlE,EAAyE,IAAzE,EAA+E,IAA/E,EAAqF,IAArF,EAA2F,IAA3F,EAAiG,IAAjG,CAAD,CAAlC;AACA,QAAM,CAACU,WAAD,EAAcC,cAAd,IAAgCX,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM,CAAEY,QAAF,IAAeZ,QAAQ,CAAC,GAAD,CAA7B;AACA,QAAM,CAACa,eAAD,EAAkBC,kBAAlB,IAAwCd,QAAQ,CAAC,CAAD,CAAtD;AACA,QAAM,CAACe,MAAD,EAASC,SAAT,IAAsBhB,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACiB,UAAD,EAAaC,aAAb,IAA8BlB,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAACmB,UAAD,EAAaC,aAAb,IAA8BpB,QAAQ,CAAC,CAAD,CAA5C;AACA,QAAM,CAACqB,UAAD,EAAaC,aAAb,IAA8BtB,QAAQ,CAAC,EAAD,CAA5C,CAR8B,CAU9B;;AACA,QAAMuB,YAAY,GAAG,MAAM;AACvB,UAAMC,KAAK,GAAGtB,cAAc,EAA5B;AACAS,IAAAA,cAAc,CAACa,KAAD,CAAd;AACAR,IAAAA,SAAS,CAACZ,SAAS,EAAV,CAAT;AACAc,IAAAA,aAAa,CAACb,aAAD,CAAb;AACD,GALH;;AAOAoB,EAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkCH,YAAlC;AAEAtB,EAAAA,SAAS,CAAC,MAAM;AACdU,IAAAA,cAAc,CAACT,cAAD,CAAd;AACAc,IAAAA,SAAS,CAACZ,SAAD,CAAT;AACAc,IAAAA,aAAa,CAACb,aAAD,CAAb;AAED,GALQ,EAKN,CAACoB,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkCH,YAAlC,CAAD,CALM,CAAT;;AAOA,QAAMI,eAAe,GAAG,MAAM;AAC5BF,IAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkCH,YAAlC;AAEA,QAAIK,QAAQ,GAAGf,eAAe,IAAIH,WAAW,GAAG,GAAd,GAAoBA,WAAW,GAAIO,UAAU,GAAG,CAAhD,GAAqDP,WAAW,GAAGK,MAAvE,CAA9B;;AAEA,QAAIa,QAAQ,GAAG,CAAf,EAAkB;AAChBA,MAAAA,QAAQ,GAAG,CAAX;AACAN,MAAAA,aAAa,CAAC,EAAD,CAAb;AACF;;AAED,QAAIM,QAAQ,GAAG,CAAf,EAAkB;AACfN,MAAAA,aAAa,CAAC,CAAD,CAAb;AACF;;AACAR,IAAAA,kBAAkB,CAACc,QAAD,CAAlB;AACD,GAdD;;AAgBA,QAAMC,eAAe,GAAG,MAAM;AAC5BJ,IAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkCH,YAAlC;AACA,QAAIO,UAAU,GAAG3B,aAAa,EAA9B;AACA,QAAIyB,QAAQ,GAAGf,eAAe,IAAIH,WAAW,GAAG,GAAd,GAC/BA,WAAW,GAAIO,UAAU,GAAG,CADG,GACIP,WAAW,GAAGK,MADtB,CAA9B;AAEA,QAAIgB,WAAW,GAAK,CAACvB,KAAK,CAACwB,MAAN,GAAeF,UAAhB,IAA8BA,UAA/B,IAA8CpB,WAAW,GAAG,GAAd,GAAoBA,WAAW,GAAGO,UAAU,GAAG,CAA/C,GAAmDP,WAAW,GAAGK,MAA/G,CAAnB;;AAEA,QAAI,CAAEa,QAAF,GAAcG,WAAlB,EAA+B;AAC7BH,MAAAA,QAAQ,GAAG,CAACG,WAAZ,CAD6B,CAE7B;AACA;;AACAX,MAAAA,aAAa,CAAC,EAAD,CAAb;AACD;;AAED,QAAI,CAAEQ,QAAF,GAAcG,WAAlB,EAA+B;AAC7BX,MAAAA,aAAa,CAAC,CAAD,CAAb;AACD,KAhB2B,CAiB5B;AACA;;;AACAN,IAAAA,kBAAkB,CAACc,QAAD,CAAlB,CAnB4B,CAoB5B;AACD,GArBD;;AAuBAK,EAAAA,OAAO,CAACC,GAAR,CAAYrB,eAAZ,EAA6BQ,UAA7B,EAAyCF,UAAzC;AACA,sBACE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAG,IAAA,SAAS,EAAC,kBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,eAEE;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,SAAS,EAAEb,UAAU,CAAC,aAAD,EAAgB;AACrC6B,MAAAA,aAAa,EAAEtB,eAAe,KAAK,CADE;AAErCuB,MAAAA,WAAW,EAAEvB,eAAe,GAAG;AAFM,KAAhB,CADvB;AAKE,IAAA,OAAO,EAAEc,eALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAUE;AACE,IAAA,SAAS,EAAErB,UAAU,CAAC,aAAD,EAAgB;AACrC+B,MAAAA,aAAa,EAAE,CAAClB,UADqB;AAErCmB,MAAAA,WAAW,EAAEC;AAFwB,KAAhB,CADvB;AAKE,IAAA,OAAO,EAAEV,eALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,CAFF,CADF,eAwBE;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,SAAS,EAAC,oBADZ;AAEE,IAAA,KAAK,EAAE;AACLW,MAAAA,UAAU,EAAG,aAAY,IAAK,IADzB;AAELC,MAAAA,SAAS,EAAG,cAAa5B,eAAgB,KAFpC;AAGLI,MAAAA,UAAU,EAAG,IAAIJ,eAAe,GAAGH,WAAa;AAH3C,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQCF,KAAK,CAACkC,GAAN,CAAUC,IAAI,iBACb;AACE,IAAA,GAAG,EAAEA,IADP;AAEE,IAAA,SAAS,EAAC,MAFZ;AAGE,IAAA,KAAK,EAAE;AACLC,MAAAA,WAAW,EAAG,GAAElC,WAAW,GAAG,GAAd,GAAoB,CAApB,GAAwBK,MAAO,IAD1C;AAELE,MAAAA,UAAU,EAAG,GAAEP,WAAW,GAAG,GAAd,GAAoBO,UAAU,GAAG,CAAjC,GAAqC,CAAE;AAFjD,KAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAQE;AAAK,IAAA,GAAG,EAAG,oBAAX;AAAgC,IAAA,SAAS,EAAC,YAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,CADD,CARD,CADF,CAxBF,CADF;AAiDD,CApHM","sourcesContent":["import React , { useState, useEffect } from 'react';\nimport { getSliderWidth , getCartLength, getMargin, getMarginLeft} from '../../helpers/slider';\nimport classNames from 'classnames';\nimport './CartSlider.scss'; \n\n\nexport const CartSlider = () => {\n  const [carts, setCarts] = useState(['1' , '2', '3', '4', '5', '6', '7' , '8', '9', '10', '11', '12', '13' , '14', '15', '16', '17', '18'])\n  const [sliderWidth, setSliderWidth] = useState('')\n  const [ disabled ] = useState('1');\n  const [currentPosition, setCurrentPosition] = useState(0);\n  const [margin, setMargin] = useState('');\n  const [marginLeft, setMarginLeft] = useState('');\n  const [buttonNext, setButtonNext] = useState(1);\n  const [buttonPrev, setButtonPrev] = useState('');\n \n  // console.log(currentPosition);\n  const handleResize = () => {\n      const width = getSliderWidth();\n      setSliderWidth(width);\n      setMargin(getMargin());\n      setMarginLeft(getMarginLeft)\n    }\n\n  window.addEventListener('resize', handleResize);\n\n  useEffect(() => {\n    setSliderWidth(getSliderWidth);\n    setMargin(getMargin);\n    setMarginLeft(getMarginLeft);\n\n  }, [window.addEventListener('resize', handleResize)])\n\n  const handleClickPrev = () => {\n    window.addEventListener('resize', handleResize);\n\n    let position = currentPosition + (sliderWidth < 655 ? sliderWidth - (marginLeft / 2) : sliderWidth + margin);\n\n    if (position > 0) {\n      position = 0;\n      setButtonPrev(\"\");\n   }\n\n   if (position < 0) {\n      setButtonPrev(1);\n   }\n    setCurrentPosition(position);\n  }\n\n  const handleClickNext = () => {\n    window.addEventListener('resize', handleResize);\n    let cartLength = getCartLength();\n    let position = currentPosition - (sliderWidth < 655 ?\n      (sliderWidth - (marginLeft / 2)) : (sliderWidth + margin));\n    let maxPosition = (((carts.length - cartLength) / cartLength) * (sliderWidth < 655 ? sliderWidth - marginLeft / 2 : sliderWidth + margin));\n\n    if (-(position) > maxPosition) {\n      position = -maxPosition;\n      // setButtonNext(1);\n      // console.log(1);\n      setButtonNext('')\n    }\n\n    if (-(position) < maxPosition) {\n      setButtonNext(1)\n    }\n    // setButtonNext(2);\n    // console.log(2);\n    setCurrentPosition(position);\n    // setButtonNext(1)\n  };\n\n  console.log(currentPosition, buttonPrev, buttonNext);\n  return (\n    <div className=\"CartSlider\">\n      <div className=\"CartSlider-Container\">\n        <p className=\"CartSlider-Title\">Title</p>\n        <div className=\"CartSlider-Buttons\">\n          <button\n            className={classNames('button_cart', {\n            prev_disabled: currentPosition === 0,\n            button_prev: currentPosition < 0,\n            })}\n            onClick={handleClickPrev}\n          >\n            {}\n          </button>\n          <button\n            className={classNames('button_cart', {\n            next_disabled: !buttonNext,\n            button_next: buttonP,\n            })}\n            onClick={handleClickNext}\n          >\n            {}\n          </button>\n        </div>\n      </div>\n      <div className=\"CartSlider-Slider\">\n        <div\n          className=\"CartSlider-Content\"\n          style={{\n            transition: `transform ${1000}ms`,\n            transform: `translateX(${currentPosition}px)`,\n            marginLeft: `-${(currentPosition + sliderWidth)}`\n          }}\n        >\n        {carts.map(item => (\n          <div\n            key={item}\n            className=\"Cart\"\n            style={{\n              marginRight: `${sliderWidth < 655 ? 0 : margin}px`,\n              marginLeft: `${sliderWidth < 655 ? marginLeft / 2 : 0}px`\n          }}\n            >\n            <img src={`./img/slider/1.jpg`} className=\"Cart-Image\"/></div>\n        ))}\n        </div>\n      </div>\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}