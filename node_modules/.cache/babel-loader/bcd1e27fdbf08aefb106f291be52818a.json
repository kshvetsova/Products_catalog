{"ast":null,"code":"var _jsxFileName = \"/Users/katerynashvetsova/Documents/projects/products_catalog/src/ProductsProvider.jsx\";\nimport React, { useMemo, useState, useEffect, useCallback } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { PropTypes } from 'prop-types';\nimport phones from './data/phones.json';\nimport watches from './data/watches.json';\nimport tablets from './data/tablets.json';\nimport { debounce } from './helpers/debounce';\nimport { initialValue } from './helpers/search';\nimport { initialSortSelect, initialToggleSelect, initialItemsPageSelect } from './helpers/select';\nimport { initialPage } from './helpers/pagination';\nexport const ProductsContext = React.createContext(); //   {\n//   favourites: [],\n//   setFavorites: () => {},\n//   carts: [],\n//   setCarts: () => {},\n//   productsList: {},\n//   appliedValue: {},\n//   setAppliedValue: () => {},\n//   applyValue: () => {},\n//   path: '',\n//   sortCarts: {},\n//   setSortCarts: () => {},\n//   setToggleSort: () => {},\n//   toggleSort: {},\n//   pageItems: {},\n//   setPageItems: () => {},\n//   toggleItemsPage: {},\n//   setToggleItemsPage: () => {},\n//   page: {},\n//   setPage: () => {},\n// });\n\nconst root = document.getElementById('root');\nexport const ProductsProvider = ({\n  children\n}) => {\n  const [productsList] = useState({\n    phones,\n    tablets,\n    watches\n  });\n  const [appliedValue, setAppliedValue] = useState(initialValue);\n  const applyValue = useCallback(debounce(setAppliedValue, 1000), []);\n  const [sortCarts, setSortCarts] = useState(initialSortSelect);\n  const [toggleSort, setToggleSort] = useState(initialToggleSelect);\n  const [pageItems, setPageItems] = useState(initialItemsPageSelect);\n  const [toggleItemsPage, setToggleItemsPage] = useState(initialToggleSelect);\n  const [page, setPage] = useState(initialPage);\n  const {\n    pathname\n  } = useLocation();\n  const path = pathname.slice(1);\n  const [favorites, setFavorites] = useState(JSON.parse(localStorage.getItem('favorites')) || []);\n  const [carts, setCarts] = useState(JSON.parse(localStorage.getItem('carts')) || []);\n  useEffect(() => localStorage.setItem('favorites', JSON.stringify(favorites)), [favorites]);\n  useEffect(() => localStorage.setItem('carts', JSON.stringify(carts)), [carts]);\n  useEffect(() => root.scrollIntoView(), [path]);\n  const contextValue = useMemo(() => ({\n    favorites,\n    setFavorites,\n    carts,\n    setCarts,\n    productsList,\n    appliedValue,\n    setAppliedValue,\n    applyValue,\n    path,\n    sortCarts,\n    setSortCarts,\n    toggleSort,\n    setToggleSort,\n    pageItems,\n    setPageItems,\n    toggleItemsPage,\n    setToggleItemsPage,\n    setPage,\n    page\n  }), [favorites, carts, productsList, appliedValue, applyValue, setAppliedValue, path, sortCarts, toggleSort, pageItems, toggleItemsPage, page]);\n  return /*#__PURE__*/React.createElement(ProductsContext.Provider, {\n    value: contextValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 5\n    }\n  }, children);\n};\nProductsProvider.propTypes = {\n  children: PropTypes.array.isRequired\n};","map":{"version":3,"sources":["/Users/katerynashvetsova/Documents/projects/products_catalog/src/ProductsProvider.jsx"],"names":["React","useMemo","useState","useEffect","useCallback","useLocation","PropTypes","phones","watches","tablets","debounce","initialValue","initialSortSelect","initialToggleSelect","initialItemsPageSelect","initialPage","ProductsContext","createContext","root","document","getElementById","ProductsProvider","children","productsList","appliedValue","setAppliedValue","applyValue","sortCarts","setSortCarts","toggleSort","setToggleSort","pageItems","setPageItems","toggleItemsPage","setToggleItemsPage","page","setPage","pathname","path","slice","favorites","setFavorites","JSON","parse","localStorage","getItem","carts","setCarts","setItem","stringify","scrollIntoView","contextValue","propTypes","array","isRequired"],"mappings":"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","sourcesContent":["import React, { useMemo, useState, useEffect, useCallback } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { PropTypes } from 'prop-types';\nimport phones from './data/phones.json';\nimport watches from './data/watches.json';\nimport tablets from './data/tablets.json';\nimport { debounce } from './helpers/debounce';\nimport { initialValue } from './helpers/search';\nimport {\n  initialSortSelect,\n  initialToggleSelect,\n  initialItemsPageSelect } from './helpers/select';\nimport { initialPage } from './helpers/pagination';\n\nexport const ProductsContext = React.createContext();\n//   {\n//   favourites: [],\n//   setFavorites: () => {},\n//   carts: [],\n//   setCarts: () => {},\n//   productsList: {},\n//   appliedValue: {},\n//   setAppliedValue: () => {},\n//   applyValue: () => {},\n//   path: '',\n//   sortCarts: {},\n//   setSortCarts: () => {},\n//   setToggleSort: () => {},\n//   toggleSort: {},\n//   pageItems: {},\n//   setPageItems: () => {},\n//   toggleItemsPage: {},\n//   setToggleItemsPage: () => {},\n//   page: {},\n//   setPage: () => {},\n// });\nconst root = document.getElementById('root');\n\nexport const ProductsProvider = ({ children }) => {\n  const [productsList] = useState({ phones, tablets, watches });\n  const [appliedValue, setAppliedValue] = useState(initialValue);\n  const applyValue = useCallback(debounce(setAppliedValue, 1000), []);\n  const [sortCarts, setSortCarts] = useState(initialSortSelect);\n  const [toggleSort, setToggleSort] = useState(initialToggleSelect);\n  const [pageItems, setPageItems] = useState(initialItemsPageSelect)\n  const [toggleItemsPage, setToggleItemsPage] = useState(initialToggleSelect);\n  const [page, setPage] = useState(initialPage);\n  const { pathname } = useLocation();\n  const path = pathname.slice(1);\n  const [favorites, setFavorites] = useState(\n    JSON.parse(localStorage.getItem('favorites')) || []\n  );\n\n  const [carts, setCarts] = useState(\n    JSON.parse(localStorage.getItem('carts')) || []\n  );\n\n  useEffect(() => (\n    localStorage.setItem('favorites', JSON.stringify(favorites))\n  ), [favorites]);\n\n  useEffect(() => (\n    localStorage.setItem('carts', JSON.stringify(carts))\n  ), [carts]);\n\n  useEffect(() => root.scrollIntoView(), [path]);\n\n  const contextValue = useMemo(() => (\n    {\n      favorites,\n      setFavorites,\n      carts,\n      setCarts,\n      productsList,\n      appliedValue,\n      setAppliedValue,\n      applyValue,\n      path,\n      sortCarts,\n      setSortCarts,\n      toggleSort,\n      setToggleSort,\n      pageItems,\n      setPageItems,\n      toggleItemsPage,\n      setToggleItemsPage,\n      setPage,\n      page,\n    }),[ favorites, carts, productsList,\n         appliedValue,applyValue, setAppliedValue,\n         path, sortCarts, toggleSort\n    , pageItems,\n    toggleItemsPage\n    , page\n  ]);\n\n  return (\n    <ProductsContext.Provider value={contextValue}>\n      {children}\n    </ProductsContext.Provider>\n  )\n}\n\nProductsProvider.propTypes = {\n  children: PropTypes.array.isRequired,\n};"]},"metadata":{},"sourceType":"module"}