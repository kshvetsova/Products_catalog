{"ast":null,"code":"import _toConsumableArray from\"/Users/katerynashvetsova/Documents/projects/react_phone-catalog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/katerynashvetsova/Documents/projects/react_phone-catalog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useMemo,useCallback,useContext}from'react';import'./ProductDetailsPage.scss';import{useHistory,useParams}from'react-router';import{NavLink}from'react-router-dom';import details from'../../data/details.json';import classNames from'classnames';import{Buttons}from'../Buttons';import{ProductsSlider}from'../ProductsSlider';import{ProductsContext}from'../../ProductsProvider';export var ProductDetailsPage=function ProductDetailsPage(){var _useContext=useContext(ProductsContext),productsList=_useContext.productsList;var _ref=useParams()||'0',productId=_ref.productId,typeProduct=_ref.typeProduct;var history=useHistory();var _useState=useState(productsList[typeProduct].find(function(item){return item.id===+productId;})),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),image=_useState4[0],setImage=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),imageHover=_useState6[0],setImageHover=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),colorList=_useState8[0],setColorList=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),optionList=_useState10[0],setOptionList=_useState10[1];var name=product.name,images=product.images,model=product.model,color=product.color,id=product.id,type=product.type,option=product.option,price=product.price,tech=product.tech;useEffect(function(){setProduct(productsList[typeProduct].find(function(item){return item.id===+productId;}));},[productId,typeProduct]);useEffect(function(){setImage(images[0]);if(product){setColorList(details.find(function(item){return item.models===model;}).colors);setOptionList(details.find(function(item){return item.models===model;}).options);}},[productId,typeProduct,product]);var findProductColor=useCallback(function(colorItem){return productsList[typeProduct].find(function(item){return item.color===colorItem&&item.type===typeProduct&&item.option===option&&item.model===model;}).id;},[productId,product]);var findProductOption=useCallback(function(optionItem){return productsList[typeProduct].find(function(item){return item.color===color&&item.type===typeProduct&&item.option===optionItem&&item.model===model;}).id;},[productId,product]);var description=useMemo(function(){return _toConsumableArray(details).find(function(item){return item.models===model&&item.type===type;}).about;},[product]);var techSpecsList=useMemo(function(){return _toConsumableArray(details).find(function(item){return item.models===model&&item.type===type;}).specs;},[product]);var productsSlider=useMemo(function(){return _toConsumableArray(productsList[typeProduct]).filter(function(item){return item.id!==+productId;});},[productId]);return/*#__PURE__*/React.createElement(\"div\",{className:\"ProductDetailsPage\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ProductDetailsPage-Breadcrumbs Breadcrumbs\"},/*#__PURE__*/React.createElement(\"div\",{className:\"Breadcrumbs-List\"},/*#__PURE__*/React.createElement(NavLink,{className:\"Breadcrumbs-Item\",to:\"/home\"},/*#__PURE__*/React.createElement(\"img\",{src:\"./img/icons-page/home.svg\",alt:\"Home\"})),/*#__PURE__*/React.createElement(\"img\",{src:\"./img/icons-page/next-disabled.svg\",alt:\"Next\",className:\"Breadcrumbs-Item\"}),/*#__PURE__*/React.createElement(\"button\",{className:\"Breadcrumbs-Item\",onClick:function onClick(){return history.push(\"/\".concat(type));},type:\"button\"},type[0].toUpperCase()+type.slice(1)),/*#__PURE__*/React.createElement(\"img\",{src:\"./img/icons-page/next-disabled.svg\",alt:\"Next\",className:\"Breadcrumbs-Item\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"Breadcrumbs-Item\"},name)),/*#__PURE__*/React.createElement(\"div\",{className:\"Breadcrumbs-Back Back\"},/*#__PURE__*/React.createElement(\"img\",{src:\"./img/icons-page/prev.svg\",alt:\"Prev\"}),/*#__PURE__*/React.createElement(\"button\",{className:\"Back-Button\",type:\"button\",onClick:function onClick(){return history.goBack(-1);}},\"Back\"))),/*#__PURE__*/React.createElement(\"h1\",{className:\"ProductDetailsPage-Title\"},product.name),/*#__PURE__*/React.createElement(\"div\",{className:\"ProductDetailsPage-ContainerTop\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ProductDetailsPage-BlockImages BlockImages\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"BlockImages-List\"},product.images.map(function(item,index){return/*#__PURE__*/React.createElement(\"li\",{key:index,className:classNames('BlockImages-Item',{item_active:item===image,item_size:[\"11 Pro\",\"Air 4\",\"Pro 12.9\\\"\",\"Pro 12.9\\\" M1\"].includes(model)||typeProduct===\"watches\",item_tablets:[\"Pro 11\\\"\",\"8 10.2\\\"\"].includes(model)}),onClick:function onClick(){return setImage(item);},onMouseEnter:function onMouseEnter(){return setImageHover(item);},onMouseLeave:function onMouseLeave(){return setImageHover('');}},/*#__PURE__*/React.createElement(\"img\",{src:item,alt:\"Product\",width:\"64px\",height:\"64px\",className:\"imageItem\"}));})),/*#__PURE__*/React.createElement(\"img\",{src:imageHover?imageHover:image,alt:\"Product\",width:\"200px\",height:\"200px\",className:\"BlockImages-Preview\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"ProductDetailsPage-ContainerOptions\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ProductDetailsPage-BlockOptions BlockOptions\"},/*#__PURE__*/React.createElement(\"div\",{className:\"BlockOptions-Colors Colors\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"Colors-Title\"},\"Available colors\"),/*#__PURE__*/React.createElement(\"ul\",{className:\"Colors-List\"},colorList.map(function(_ref2){var _ref3=_slicedToArray(_ref2,2),item=_ref3[0],hex=_ref3[1];return/*#__PURE__*/React.createElement(\"li\",{key:hex,className:classNames('Colors-Item',{color_active:item===color}),onClick:function onClick(){return history.push(\"/\".concat(type,\"/product/\").concat(findProductColor(item)));}},/*#__PURE__*/React.createElement(\"div\",{className:\"color\",style:{background:\"\".concat(hex),border:\"\".concat(1,\"px solid \",hex)}}));}))),/*#__PURE__*/React.createElement(\"div\",{className:\"BlockOptions-Options Options\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"Options-Title\"},\"Select \",\"\".concat(typeProduct!=='watches'?'capacity':'size')),/*#__PURE__*/React.createElement(\"ul\",{className:\"Options-List\"},optionList.map(function(item){return/*#__PURE__*/React.createElement(\"li\",{key:item,className:classNames('Options-Item',{option_active:item===option}),onClick:function onClick(){return history.push(\"/\".concat(type,\"/product/\").concat(findProductOption(item)));}},item);}))),/*#__PURE__*/React.createElement(\"div\",{className:\"BlockOptions-PriceBlock PriceBlock\"},/*#__PURE__*/React.createElement(\"div\",{className:\"PriceBlock-Price price\"},\"$\".concat(price[0])),/*#__PURE__*/React.createElement(\"div\",{className:\"PriceBlock-Sale\"},price[1]?\"$\".concat(price[1]):'')),/*#__PURE__*/React.createElement(\"div\",{className:\"BlockOptions-Buttons BlockOptions-Buttons_gap\"},/*#__PURE__*/React.createElement(Buttons,{id:id,name:name,price:price[0],image:images[0]})),/*#__PURE__*/React.createElement(\"ul\",{className:\"BlockOptions-Details Details\"},tech.map(function(_ref4){var _ref5=_slicedToArray(_ref4,2),name=_ref5[0],value=_ref5[1];return/*#__PURE__*/React.createElement(\"li\",{className:\"Details-Item\",key:value},/*#__PURE__*/React.createElement(\"p\",{className:\"Details-Name\"},name),/*#__PURE__*/React.createElement(\"p\",{className:\"Details-Value\"},value));}))),/*#__PURE__*/React.createElement(\"div\",{className:\"ProductDetailsPage-ProductId\"},\"ID: \",id))),/*#__PURE__*/React.createElement(\"div\",{className:\"ProductDetailsPage-ContainerBottom\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ProductDetailsPage-About About\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"About-Title\"},\"About\"),/*#__PURE__*/React.createElement(\"ul\",{className:\"About-List\"},description.map(function(_ref6){var _ref7=_slicedToArray(_ref6,2),title=_ref7[0],text=_ref7[1];return/*#__PURE__*/React.createElement(\"li\",{className:\"About-Item\",key:title},/*#__PURE__*/React.createElement(\"h3\",{className:\"About-ItemTitle\"},title),/*#__PURE__*/React.createElement(\"p\",{className:\"About-ItemText\"},text));}))),/*#__PURE__*/React.createElement(\"div\",{className:\"ProductDetailsPage-TechSpecs TechSpecs\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"TechSpecs-Title\"},\"Tech specs\"),/*#__PURE__*/React.createElement(\"ul\",{className:\"TechSpecs-List\"},techSpecsList.map(function(_ref8){var _ref9=_slicedToArray(_ref8,2),name=_ref9[0],value=_ref9[1];return/*#__PURE__*/React.createElement(\"li\",{className:\"TechSpecs-Item\",key:value},/*#__PURE__*/React.createElement(\"h3\",{className:\"TechSpecs-Name\"},name),/*#__PURE__*/React.createElement(\"p\",{className:\"TechSpecs-Value\"},value));})))),/*#__PURE__*/React.createElement(ProductsSlider,{title:\"You may also like\",products:productsSlider}));};","map":{"version":3,"sources":["/Users/katerynashvetsova/Documents/projects/react_phone-catalog/src/components/ProductDetailsPage/ProductDetailsPage.jsx"],"names":["React","useEffect","useState","useMemo","useCallback","useContext","useHistory","useParams","NavLink","details","classNames","Buttons","ProductsSlider","ProductsContext","ProductDetailsPage","productsList","productId","typeProduct","history","find","item","id","product","setProduct","image","setImage","imageHover","setImageHover","colorList","setColorList","optionList","setOptionList","name","images","model","color","type","option","price","tech","models","colors","options","findProductColor","colorItem","findProductOption","optionItem","description","about","techSpecsList","specs","productsSlider","filter","push","toUpperCase","slice","goBack","map","index","item_active","item_size","includes","item_tablets","hex","color_active","background","border","option_active","value","title","text"],"mappings":"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","sourcesContent":["import React, {useEffect, useState, useMemo, useCallback, useContext } from 'react';\nimport './ProductDetailsPage.scss';\nimport { useHistory, useParams } from 'react-router';\nimport { NavLink } from 'react-router-dom';\nimport details from '../../data/details.json';\nimport classNames from 'classnames';\nimport { Buttons } from '../Buttons';\nimport { ProductsSlider } from '../ProductsSlider';\nimport { ProductsContext } from '../../ProductsProvider';\n\nexport const ProductDetailsPage = () => {\n  const { productsList } = useContext(ProductsContext);\n  const { productId, typeProduct } = useParams() || '0';\n  const history = useHistory();\n  const [product, setProduct] = useState(\n    productsList[typeProduct].find(item => item.id === +productId)\n  );\n  const [image, setImage] = useState([]);\n  const [imageHover, setImageHover] = useState('');\n  const [colorList, setColorList] = useState([]);\n  const [optionList, setOptionList] = useState([]);\n  const { name , images, model, color, id , type, option, price, tech } = product;\n\n  useEffect(() => {\n    setProduct(productsList[typeProduct].find(item => item.id === +productId));\n  }, [productId, typeProduct]);\n\n  useEffect(() => {\n    setImage(images[0]);\n    if (product) {\n      setColorList(details.find(item => item.models === model).colors);\n      setOptionList(details.find(item => item.models === model).options);\n    }\n}, [productId, typeProduct, product]);\n\n  const findProductColor = useCallback((colorItem) => (\n    productsList[typeProduct].find(item => (\n      item.color === colorItem &&\n      item.type === typeProduct &&\n      item.option === option &&\n      item.model === model)).id\n  ), [productId, product]);\n\n  const findProductOption = useCallback((optionItem) => (\n    productsList[typeProduct].find(item => (\n      item.color === color &&\n      item.type === typeProduct &&\n      item.option === optionItem &&\n      item.model === model)).id\n  ), [productId, product]);\n\n  const description = useMemo(() => (\n    [...details].find(item => item.models === model && item.type === type).about\n  ), [product]);\n\n  const techSpecsList = useMemo(() => (\n    [...details].find(item => item.models === model && item.type === type).specs\n  ), [product]);\n\n  const productsSlider = useMemo(() => (\n    [...productsList[typeProduct]].filter(item => item.id !== +productId)\n  ), [productId]);\n\n  return (\n    <div className=\"ProductDetailsPage\">\n      <div className=\"ProductDetailsPage-Breadcrumbs Breadcrumbs\">\n        <div className=\"Breadcrumbs-List\">\n          <NavLink className=\"Breadcrumbs-Item\" to=\"/home\">\n            <img src=\"./img/icons-page/home.svg\" alt=\"Home\"/>\n          </NavLink>\n          <img\n            src=\"./img/icons-page/next-disabled.svg\"\n            alt=\"Next\"\n            className=\"Breadcrumbs-Item\"\n          />\n          <button\n            className=\"Breadcrumbs-Item\"\n            onClick={() => history.push(`/${type}`)}\n            type=\"button\"\n          >\n            {type[0].toUpperCase() + type.slice(1)}\n          </button>\n          <img src=\"./img/icons-page/next-disabled.svg\" alt=\"Next\" className=\"Breadcrumbs-Item\"/>\n          <p className=\"Breadcrumbs-Item\">{name}</p>\n        </div>\n        <div className=\"Breadcrumbs-Back Back\">\n          <img src=\"./img/icons-page/prev.svg\" alt=\"Prev\"/>\n          <button\n            className=\"Back-Button\"\n            type=\"button\"\n            onClick={() => history.goBack(-1)}\n          >\n            Back\n          </button>\n        </div>\n      </div>\n      <h1 className=\"ProductDetailsPage-Title\">{product.name}</h1>\n      <div className=\"ProductDetailsPage-ContainerTop\">\n        <div className=\"ProductDetailsPage-BlockImages BlockImages\">\n          <ul className=\"BlockImages-List\">\n            {product.images.map((item, index) => (\n              <li\n                key={index}\n                className={classNames('BlockImages-Item', {\n                  item_active: item === image,\n                  item_size: [\"11 Pro\", \"Air 4\", \"Pro 12.9\\\"\", \"Pro 12.9\\\" M1\"].includes(model) || typeProduct === \"watches\",\n                  item_tablets: [\"Pro 11\\\"\", \"8 10.2\\\"\"].includes(model),\n                })}\n                onClick={() => setImage(item)}\n                onMouseEnter={() => setImageHover(item)}\n                onMouseLeave={() => setImageHover('')}\n              >\n                <img\n                  src={item}\n                  alt=\"Product\"\n                  width=\"64px\"\n                  height=\"64px\"\n                  className=\"imageItem\"\n                />\n              </li>\n            ))}\n          </ul>\n          <img\n            src={imageHover ? imageHover : image}\n            alt=\"Product\"\n            width=\"200px\"\n            height=\"200px\"\n            className=\"BlockImages-Preview\"\n          />\n        </div>\n        <div className=\"ProductDetailsPage-ContainerOptions\">\n          <div className=\"ProductDetailsPage-BlockOptions BlockOptions\">\n            <div className=\"BlockOptions-Colors Colors\">\n              <h3 className=\"Colors-Title\">Available colors</h3>\n              <ul className=\"Colors-List\">\n                {colorList.map(([item, hex ]) => (\n                  <li\n                    key={hex}\n                    className={classNames('Colors-Item', {\n                      color_active: item === color,\n                    })}\n                    onClick={() => history.push(\n                      `/${type}/product/${findProductColor(item)}`\n                    )}\n                  >\n                    <div\n                      className=\"color\"\n                      style={{\n                        background: `${hex}`,\n                        border: `${1}px solid ${hex}`\n                      }}\n                    >{}</div>\n                  </li>\n                ))}\n              </ul>\n            </div>\n            <div className=\"BlockOptions-Options Options\">\n              <h3 className=\"Options-Title\">\n                Select {`${typeProduct !== 'watches' ? 'capacity' : 'size'}`}\n              </h3>\n              <ul className=\"Options-List\">\n                {optionList.map(item => (\n                  <li\n                    key={item}\n                    className={classNames('Options-Item', {\n                      option_active: item === option,\n                    })}\n                    onClick={() => history.push(\n                      `/${type}/product/${findProductOption(item)}`\n                    )}\n                  >\n                    {item}\n                  </li>\n                ))}\n              </ul>\n            </div>\n            <div className=\"BlockOptions-PriceBlock PriceBlock\">\n              <div className=\"PriceBlock-Price price\">\n                {`$${price[0]}`}\n              </div>\n              <div className=\"PriceBlock-Sale\">\n                {price[1] ? `$${price[1]}` : ''}\n              </div>\n            </div>\n            <div className=\"BlockOptions-Buttons BlockOptions-Buttons_gap\">\n              <Buttons id={id} name={name} price={price[0]} image={images[0]}/>\n            </div>\n            <ul className=\"BlockOptions-Details Details\">\n              {tech.map(([name, value]) => (\n                <li className=\"Details-Item\" key={value}>\n                  <p className=\"Details-Name\">{name}</p>\n                  <p className=\"Details-Value\">{value}</p>\n                </li>\n              ))}\n            </ul>\n          </div>\n          <div className=\"ProductDetailsPage-ProductId\">ID: {id}</div>\n        </div>\n      </div>\n      <div className=\"ProductDetailsPage-ContainerBottom\">\n        <div className=\"ProductDetailsPage-About About\">\n          <h2 className=\"About-Title\">About</h2>\n          <ul className=\"About-List\">\n            {description.map(([title, text]) => (\n               <li className=\"About-Item\" key={title}>\n                 <h3 className=\"About-ItemTitle\">{title}</h3>\n                 <p className=\"About-ItemText\">{text}</p>\n               </li>\n            ))}\n          </ul>\n        </div>\n        <div className=\"ProductDetailsPage-TechSpecs TechSpecs\">\n          <h2 className=\"TechSpecs-Title\">Tech specs</h2>\n          <ul className=\"TechSpecs-List\">\n            {techSpecsList.map(([name, value]) => (\n               <li className=\"TechSpecs-Item\" key={value}>\n                 <h3 className=\"TechSpecs-Name\">{name}</h3>\n                 <p className=\"TechSpecs-Value\">{value}</p>\n               </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n      <ProductsSlider title=\"You may also like\" products={productsSlider} />\n    </div>\n  )\n}"]},"metadata":{},"sourceType":"module"}