{"ast":null,"code":"var _jsxFileName = \"/Users/katerynashvetsova/Documents/projects/react_phone-catalog/src/components/ProductDetailsPage/ProductDetailsPage.jsx\";\nimport React, { useEffect, useState, useMemo, useCallback } from 'react';\nimport './ProductDetailsPage.scss';\nimport { useHistory, useParams } from 'react-router';\nimport { NavLink } from 'react-router-dom';\nimport phones from '../../data/phones.json';\nimport details from '../../data/details.json';\nimport classNames from 'classnames'; //import { useContext } from 'react';\n//import { ProductsContext } from '../../ProductsProvider';\n\nexport const ProductDetailsPage = () => {\n  //const { path } = useContext(ProductsContext);\n  const history = useHistory();\n  const {\n    productId,\n    typeProduct\n  } = useParams() || '0';\n  const [product, setProduct] = useState(phones.find(item => item.id === +productId));\n  console.log(typeProduct);\n  const [image, setImage] = useState([]);\n  const [imageHover, setImageHover] = useState('');\n  const [colorList, setColorList] = useState([]);\n  const [optionList, setOptionList] = useState([]);\n  const {\n    name,\n    images,\n    model,\n    color,\n    id,\n    type,\n    option,\n    price\n  } = product;\n  useEffect(() => {\n    setProduct(phones.find(item => item.id === +productId));\n  }, [productId]);\n  useM(() => {\n    setImage(images[0]);\n\n    if (product) {\n      setColorList(details.find(item => item.models === model).colors);\n      setOptionList(details.find(item => item.models === model).options);\n    }\n  }, [product]);\n  console.log(optionList); // const [image, setImage] = useState([]);\n  // const [imageHover, setImageHover] = useState('');\n  // const [colorList, setColorList] = useState([]);\n  // const [optionList, setOptionList] = useState([]);\n  // const { name , images, model, color, id , type, option, price } = product;\n  // useEffect(() => {\n  //     setProduct(products.find(item => item.id === +productId));\n  // }, [productId]);\n  // useMemo(() => {\n  //     setImage(images[0]);\n  //     if (product) {\n  //       setColorList(details.find(item => item.models === model).colors);\n  //       setOptionList(details.find(item => item.models === model).options);\n  //     }\n  // }, [product]);\n\n  const findProductColor = useCallback(colorItem => {\n    return phones.find(item => item.color === colorItem && item.type === typeProduct && item.option === option && item.model === model).id;\n  }, []);\n  const findProductOption = useCallback(optionItem => {\n    return phones.find(item => item.color === color && item.type === typeProduct && item.option === optionItem && item.model === model).id;\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, productId && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ProductDetailsPage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ProductDetailsPage-Breadcrumbs Breadcrumbs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Breadcrumbs-List\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    className: \"Breadcrumbs-Item\",\n    to: \"/home\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"./img/home.svg\",\n    alt: \"Home\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"img\", {\n    src: \"./img/next-disabled.svg\",\n    alt: \"Next\",\n    className: \"Breadcrumbs-Item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(NavLink, {\n    className: \"Breadcrumbs-Item text\",\n    to: `/${type}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, type[0].toUpperCase() + type.slice(1)), /*#__PURE__*/React.createElement(\"img\", {\n    src: \"./img/next-disabled.svg\",\n    alt: \"Next\",\n    className: \"Breadcrumbs-Item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"Breadcrumbs-Item text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, name)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Breadcrumbs-Back\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"./img/prev.svg\",\n    alt: \"Prev\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"Breadcrumbs-Button\",\n    type: \"button\",\n    onClick: () => history.goBack(-1),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }, \"Back\"))), /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"ProductDetailsPage-Title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }, name), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ProductDetailsPage-ContainerTop\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ProductDetailsPage-ImagesBlock ImagesBlock\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"ImagesBlock-List\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, images.map(item => /*#__PURE__*/React.createElement(\"li\", {\n    key: item,\n    className: classNames('ImagesBlock-Item', {\n      item_active: item === image,\n      item_size: model === \"11 Pro\"\n    }),\n    onClick: () => setImage(item),\n    onMouseEnter: () => setImageHover(item),\n    onMouseLeave: () => setImageHover(''),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: item,\n    alt: \"Product\",\n    width: \"64px\",\n    height: \"64px\",\n    className: \"itemImage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  })))), /*#__PURE__*/React.createElement(\"img\", {\n    src: imageHover ? imageHover : image,\n    alt: \"Product\",\n    width: \"200px\",\n    height: \"200px\",\n    className: \"ImagesBlock-Image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ProductDetailsPage-OptionsBlock\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ProductDetailsPage-Colors Colors\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"Colors-Title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, \"Available colors\"), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"Colors-List\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }\n  }, colorList.map(([item, hex]) => /*#__PURE__*/React.createElement(\"li\", {\n    key: item,\n    className: classNames('Colors-Item', {\n      color_active: item === color\n    }),\n    onClick: () => history.push(`/${type}/product/${findProductColor(item)}`),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"color\",\n    style: {\n      background: `${hex}`,\n      border: `${1}px solid ${hex}`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 19\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ProductDetailsPage-Options Options\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"Options-Title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  }, \"Select \", `${typeProduct !== 'watches' ? 'capacity' : 'size'}`), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"Options-List\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }\n  }, optionList.map(item => /*#__PURE__*/React.createElement(\"li\", {\n    key: item,\n    className: classNames('Options-Item', {\n      option_active: item === option\n    }),\n    onClick: () => history.push(`/${type}/product/${findProductOption(item)}`),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 17\n    }\n  }, item)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ProductDetailsPage-PriceBlock PriceBlock\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"PriceBlock-Price PriceBlock-Price_bigSize\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 13\n    }\n  }, `${price[0]}$`), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"PriceBlock-Sale\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 13\n    }\n  }, price[1] ? `${price[1]}$` : ''))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ProductDetailsPage-ID\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 9\n    }\n  }, \"ID: \", id))));\n};","map":{"version":3,"sources":["/Users/katerynashvetsova/Documents/projects/react_phone-catalog/src/components/ProductDetailsPage/ProductDetailsPage.jsx"],"names":["React","useEffect","useState","useMemo","useCallback","useHistory","useParams","NavLink","phones","details","classNames","ProductDetailsPage","history","productId","typeProduct","product","setProduct","find","item","id","console","log","image","setImage","imageHover","setImageHover","colorList","setColorList","optionList","setOptionList","name","images","model","color","type","option","price","useM","models","colors","options","findProductColor","colorItem","findProductOption","optionItem","toUpperCase","slice","goBack","map","item_active","item_size","hex","color_active","push","background","border","option_active"],"mappings":"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","sourcesContent":["import React, {useEffect, useState, useMemo, useCallback } from 'react';\nimport './ProductDetailsPage.scss';\nimport { useHistory, useParams } from 'react-router';\nimport { NavLink } from 'react-router-dom';\nimport phones from '../../data/phones.json';\nimport details from '../../data/details.json';\nimport classNames from 'classnames';\n//import { useContext } from 'react';\n//import { ProductsContext } from '../../ProductsProvider';\n\nexport const ProductDetailsPage = () => {\n  //const { path } = useContext(ProductsContext);\n  const history = useHistory();\n  const { productId, typeProduct } = useParams() || '0';\n  const [product, setProduct] = useState(phones.find(item => item.id === +productId));\n  console.log(typeProduct);\n  const [image, setImage] = useState([]);\n  const [imageHover, setImageHover] = useState('');\n  const [colorList, setColorList] = useState([]);\n  const [optionList, setOptionList] = useState([]);\n  const { name , images, model, color, id , type, option, price } = product;\n\n  useEffect(() => {\n    setProduct(phones.find(item => item.id === +productId));\n  }, [productId]);\n\n  useM(() => {\n    setImage(images[0]);\n    if (product) {\n      setColorList(details.find(item => item.models === model).colors);\n      setOptionList(details.find(item => item.models === model).options);\n    }\n}, [product]);\n\nconsole.log(optionList);\n\n  // const [image, setImage] = useState([]);\n  // const [imageHover, setImageHover] = useState('');\n  // const [colorList, setColorList] = useState([]);\n  // const [optionList, setOptionList] = useState([]);\n  // const { name , images, model, color, id , type, option, price } = product;\n\n  // useEffect(() => {\n  //     setProduct(products.find(item => item.id === +productId));\n  // }, [productId]);\n\n  // useMemo(() => {\n  //     setImage(images[0]);\n  //     if (product) {\n  //       setColorList(details.find(item => item.models === model).colors);\n  //       setOptionList(details.find(item => item.models === model).options);\n  //     }\n  // }, [product]);\n\n  const findProductColor = useCallback((colorItem) => {\n    return phones.find(item => item.color === colorItem && item.type === typeProduct && item.option === option && item.model === model).id;\n  }, []);\n\n  const findProductOption = useCallback((optionItem) => {\n    return phones.find(item => item.color === color && item.type === typeProduct && item.option === optionItem && item.model === model).id;\n  }, []);\n\n  return (\n    <>\n    {productId && (\n    <div className=\"ProductDetailsPage\">\n      <div className=\"ProductDetailsPage-Breadcrumbs Breadcrumbs\">\n        <div className=\"Breadcrumbs-List\">\n          <NavLink className=\"Breadcrumbs-Item\" to=\"/home\">\n            <img src=\"./img/home.svg\" alt=\"Home\"/>\n          </NavLink>\n          <img src=\"./img/next-disabled.svg\" alt=\"Next\" className=\"Breadcrumbs-Item\"/>\n          <NavLink className=\"Breadcrumbs-Item text\" to={`/${type}`}>\n            {type[0].toUpperCase() + type.slice(1)}\n          </NavLink>\n          <img src=\"./img/next-disabled.svg\" alt=\"Next\" className=\"Breadcrumbs-Item\"/>\n          <p className=\"Breadcrumbs-Item text\">{name}</p>\n        </div>\n        <div className=\"Breadcrumbs-Back\">\n          <img src=\"./img/prev.svg\" alt=\"Prev\"/>\n          <button\n            className=\"Breadcrumbs-Button\"\n            type=\"button\"\n            onClick={() => history.goBack(-1)}\n          >\n            Back\n          </button>\n        </div>\n      </div>\n      <h1 className=\"ProductDetailsPage-Title\">{name}</h1>\n      <div className=\"ProductDetailsPage-ContainerTop\">\n        <div className=\"ProductDetailsPage-ImagesBlock ImagesBlock\">\n          <ul className=\"ImagesBlock-List\">\n            {images.map(item => (\n              <li\n                key={item}\n                className={classNames('ImagesBlock-Item', {\n                  item_active: item === image,\n                  item_size: model === \"11 Pro\"\n                })}\n                onClick={() => setImage(item)}\n                onMouseEnter={() => setImageHover(item)}\n                onMouseLeave={() => setImageHover('')}\n              >\n                <img\n                  src={item}\n                  alt=\"Product\"\n                  width=\"64px\"\n                  height=\"64px\"\n                  className=\"itemImage\"\n                />\n              </li>\n            ))}\n          </ul>\n          <img\n            src={imageHover ? imageHover : image}\n            alt=\"Product\"\n            width=\"200px\"\n            height=\"200px\"\n            className=\"ImagesBlock-Image\"\n          />\n        </div>\n        <div className=\"ProductDetailsPage-OptionsBlock\">\n          <div className=\"ProductDetailsPage-Colors Colors\">\n            <h3 className=\"Colors-Title\">Available colors</h3>\n            <ul className=\"Colors-List\">\n              {colorList.map(([item, hex ]) => (\n                <li\n                  key={item}\n                  className={classNames('Colors-Item', {\n                    color_active: item === color,\n                  })}\n                  onClick={() => history.push(\n                    `/${type}/product/${findProductColor(item)}`\n                  )}\n                >\n                  <div\n                    className=\"color\"\n                    style={{\n                      background: `${hex}`,\n                      border: `${1}px solid ${hex}`\n                    }}\n                  >{}</div>\n                </li>\n              ))}\n            </ul>\n          </div>\n          <div className=\"ProductDetailsPage-Options Options\">\n            <h3 className=\"Options-Title\">\n              Select {`${typeProduct !== 'watches' ? 'capacity' : 'size'}`}\n            </h3>\n            <ul className=\"Options-List\">\n              {optionList.map(item => (\n                <li\n                  key={item}\n                  className={classNames('Options-Item', {\n                    option_active: item === option,\n                  })}\n                  onClick={() => history.push(\n                    `/${type}/product/${findProductOption(item)}`\n                  )}\n                >\n                  {item}\n                </li>\n              ))}\n            </ul>\n          </div>\n          <div className=\"ProductDetailsPage-PriceBlock PriceBlock\">\n            <div className=\"PriceBlock-Price PriceBlock-Price_bigSize\">\n              {`${price[0]}$`}\n            </div>\n            <div className=\"PriceBlock-Sale\">\n              {price[1] ? `${price[1]}$` : ''}\n            </div>\n          </div>\n        </div>\n        <div className=\"ProductDetailsPage-ID\">ID: {id}</div>\n      </div>\n    </div>\n  )}\n  </>\n  )\n}"]},"metadata":{},"sourceType":"module"}