{"ast":null,"code":"var _jsxFileName = \"/Users/katerynashvetsova/Documents/projects/react_phone-catalog/src/ProductsProvider.jsx\";\nimport React, { useMemo, useState, useEffect, useCallback } from 'react';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport { PropTypes } from 'prop-types';\nimport products from './data/products.json';\nimport { debounce } from './helpers/debounce';\nimport { initialValue } from './helpers/search';\nimport { initialSortSelect, initialToggleSelect, initialItemsPageSelect } from './helpers/select';\nimport { initialPage } from './helpers/pagination';\nexport const ProductsContext = React.createContext({\n  favourites: [],\n  setFavorites: () => {},\n  carts: [],\n  setCarts: () => {},\n  productsList: {},\n  appliedValue: {},\n  setAppliedValue: () => {},\n  applyValue: () => {},\n  path: '',\n  sortCarts: {},\n  setSortCarts: () => {},\n  setToggleSort: () => {},\n  toggleSort: {},\n  pageItems: {},\n  setPageItems: () => {},\n  toggleItemsPage: {},\n  setToggleItemsPage: () => {},\n  page: {},\n  setPage: () => {},\n  changeHistory: () => {},\n  deleteHistory: () => {},\n  search: '',\n  changeHistorySort: () => {}\n});\nconst root = document.getElementById('root');\nexport const ProductsProvider = ({\n  children\n}) => {\n  const [productsList] = useState({\n    phones: products,\n    tablets: products.slice(0, 10),\n    accessories: products.slice(0, 5)\n  });\n  const [appliedValue, setAppliedValue] = useState(initialValue);\n  const applyValue = useCallback(debounce(setAppliedValue, 1000), []);\n  const [sortCarts, setSortCarts] = useState(initialSortSelect);\n  const [toggleSort, setToggleSort] = useState(initialToggleSelect);\n  const [pageItems, setPageItems] = useState(initialItemsPageSelect);\n  const [toggleItemsPage, setToggleItemsPage] = useState(initialToggleSelect);\n  const [page, setPage] = useState(initialPage);\n  const {\n    pathname,\n    search\n  } = useLocation();\n  const path = pathname.slice(1);\n  const history = useHistory();\n  const searchParams = new URLSearchParams(search);\n  console.log(history, search);\n  console.log(searchParams.get('model'));\n  const changeHistory = useCallback((name, value) => {\n    searchParams.set(name, value);\n    history.push(`?${searchParams.toString()}`);\n  }, []);\n  const deleteHistory = useCallback(name => {\n    searchParams.delete(name);\n    history.push(`?${searchParams.toString()}`);\n  }, []);\n  const [favorites, setFavorites] = useState(JSON.parse(localStorage.getItem('favorites')) || []);\n  const [carts, setCarts] = useState(JSON.parse(localStorage.getItem('carts')) || []); // console.log(favorites.filter);\n  // console.log(products.filter(item => favorites.includes(item.id)));\n\n  useEffect(() => localStorage.setItem('favorites', JSON.stringify(favorites)), [favorites]);\n  useEffect(() => localStorage.setItem('carts', JSON.stringify(carts)), [carts]);\n  useEffect(() => root.scrollIntoView(), [path]);\n  useMemo(() => {\n    if (!['home', 'product', 'favorites', 'cart'].includes(path)) {\n      // if (path !== 'home') {\n      changeHistory('sort', sortCarts[path] === 'Alphabetically' ? 'name' : sortCarts[path] === 'Newest' ? 'age' : 'price');\n\n      if (pageItems[path] !== 'All items') {\n        changeHistory('perPage', pageItems[path]);\n        changeHistory('page', page[path]);\n      } else if (pageItems[path] === 'All items') {\n        deleteHistory('perPage');\n        deleteHistory('page');\n      } //}\n\n    } else if (['home', 'product', 'favorites', 'cart'].includes(path)) {\n      deleteHistory('sort');\n    }\n  }, [page[path], pageItems[path], sortCarts[path]]); //   useMemo(() => {\n  //     if (appliedValue[path]) {\n  //       changeHistory('query', appliedValue[path]);\n  //       deleteHistory('sort');\n  //       deleteHistory('perPage', pageItems[path]);\n  //       deleteHistory('page', page[path]);\n  //     } else if (!appliedValue[path]) {\n  //       deleteHistory('query');\n  //       changeHistory('perPage', pageItems[path]);\n  //       changeHistory('page', page[path]);\n  //     }\n  //     // else if (pageItems[path] === 'All items') {\n  //     //   deleteHistory('perPage');\n  //     //   deleteHistory('page');\n  //     // }\n  // }, [appliedValue[path], path]);\n\n  const changeHistorySort = useCallback(() => {\n    if (value) {\n      searchParams.set(name, value);\n      history.push(`?${searchParams.toString()}`);\n    }\n\n    if (!value) {\n      searchParams.delete(name);\n    } // searchParams.delete(name);\n\n\n    history.push(`?${searchParams.toString()}`);\n  }, []); // useMemo(() => {\n  //   //if (pageItems[path] !== \"All items\") {\n  //    // && !['home', 'favorites', 'cart'].includes(path) ) {\n  //     searchParams.set('page', page[path]);\n  //     history.push(`?${searchParams.toString()}`);\n  //   if (pageItems[path] === \"All items\") {\n  //     searchParams.delete('page');\n  //     history.push(`?${searchParams.toString()}`);\n  //   }\n  // },[pageItems[path]]);\n  // useEffect(() => {\n  //   if (path !== 'home') {\n  //   searchParams.set('page', page[path]);\n  //   history.push(`?${searchParams.toString()}`);}\n  // }, [page[path]])\n\n  const contextValue = useMemo(() => ({\n    favorites,\n    setFavorites,\n    carts,\n    setCarts,\n    productsList,\n    appliedValue,\n    setAppliedValue,\n    applyValue,\n    path,\n    sortCarts,\n    setSortCarts,\n    toggleSort,\n    setToggleSort,\n    pageItems,\n    setPageItems,\n    toggleItemsPage,\n    setToggleItemsPage,\n    page,\n    setPage,\n    changeHistory,\n    deleteHistory,\n    changeHistorySort,\n    search\n  }), [favorites, carts, productsList, appliedValue, applyValue, setAppliedValue, path, sortCarts, toggleSort, pageItems, toggleItemsPage, page, search]);\n  return /*#__PURE__*/React.createElement(ProductsContext.Provider, {\n    value: contextValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 5\n    }\n  }, children);\n};\nProductsProvider.propTypes = {\n  children: PropTypes.array.isRequired\n};","map":{"version":3,"sources":["/Users/katerynashvetsova/Documents/projects/react_phone-catalog/src/ProductsProvider.jsx"],"names":["React","useMemo","useState","useEffect","useCallback","useLocation","useHistory","PropTypes","products","debounce","initialValue","initialSortSelect","initialToggleSelect","initialItemsPageSelect","initialPage","ProductsContext","createContext","favourites","setFavorites","carts","setCarts","productsList","appliedValue","setAppliedValue","applyValue","path","sortCarts","setSortCarts","setToggleSort","toggleSort","pageItems","setPageItems","toggleItemsPage","setToggleItemsPage","page","setPage","changeHistory","deleteHistory","search","changeHistorySort","root","document","getElementById","ProductsProvider","children","phones","tablets","slice","accessories","pathname","history","searchParams","URLSearchParams","console","log","get","name","value","set","push","toString","delete","favorites","JSON","parse","localStorage","getItem","setItem","stringify","scrollIntoView","includes","contextValue","propTypes","array","isRequired"],"mappings":"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","sourcesContent":["import React, { useMemo, useState, useEffect, useCallback } from 'react';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport { PropTypes } from 'prop-types';\nimport products from './data/products.json';\nimport { debounce } from './helpers/debounce';\nimport { initialValue } from './helpers/search';\nimport { initialSortSelect, initialToggleSelect, initialItemsPageSelect } from './helpers/select';\nimport { initialPage } from './helpers/pagination';\n\n\nexport const ProductsContext = React.createContext({\n  favourites: [],\n  setFavorites: () => {},\n  carts: [],\n  setCarts: () => {},\n  productsList: {},\n  appliedValue: {},\n  setAppliedValue: () => {},\n  applyValue: () => {},\n  path: '',\n  sortCarts: {},\n  setSortCarts: () => {},\n  setToggleSort: () => {},\n  toggleSort: {},\n  pageItems: {},\n  setPageItems: () => {},\n  toggleItemsPage: {},\n  setToggleItemsPage: () => {},\n  page: {},\n  setPage: () => {},\n  changeHistory: () => {},\n  deleteHistory: () => {},\n  search: '',\n  changeHistorySort: () => {},\n});\nconst root = document.getElementById('root');\n\nexport const ProductsProvider = ({ children }) => {\n  const [productsList] = useState({\n    phones: products,\n    tablets: products.slice(0, 10),\n    accessories: products.slice(0, 5),\n  });\n  const [appliedValue, setAppliedValue] = useState(initialValue);\n  const applyValue = useCallback(debounce(setAppliedValue, 1000), []);\n  const [sortCarts, setSortCarts] = useState(initialSortSelect);\n  const [toggleSort, setToggleSort] = useState(initialToggleSelect);\n  const [pageItems, setPageItems] = useState(initialItemsPageSelect)\n  const [toggleItemsPage, setToggleItemsPage] = useState(initialToggleSelect);\n  const [page, setPage] = useState(initialPage);\n  const { pathname, search } = useLocation();\n  const path = pathname.slice(1);\n  const history = useHistory();\n  const searchParams = new URLSearchParams(search);\n  console.log(history, search);\n  console.log( searchParams.get('model'))\n\n  const changeHistory = useCallback((name, value) => {\n    searchParams.set(name, value);\n    history.push(`?${searchParams.toString()}`);\n  }, []);\n\n  const deleteHistory = useCallback((name) => {\n    searchParams.delete(name);\n    history.push(`?${searchParams.toString()}`);\n  }, []);\n\n  const [favorites, setFavorites] = useState(\n    JSON.parse(localStorage.getItem('favorites')) || []\n  );\n\n  const [carts, setCarts] = useState(\n    JSON.parse(localStorage.getItem('carts')) || []\n  );\n  // console.log(favorites.filter);\n  // console.log(products.filter(item => favorites.includes(item.id)));\n\n  useEffect(() => (\n    localStorage.setItem('favorites', JSON.stringify(favorites))\n  ), [favorites]);\n\n  useEffect(() => (\n    localStorage.setItem('carts', JSON.stringify(carts))\n  ), [carts]);\n\n  useEffect(() => root.scrollIntoView(), [path]);\n\n  useMemo(() => {\n    if (!['home', 'product', 'favorites', 'cart'].includes(path)) {\n      // if (path !== 'home') {\n      changeHistory('sort',\n        sortCarts[path] === 'Alphabetically'\n        ? 'name': sortCarts[path] === 'Newest'\n        ? 'age' : 'price')\n      if (pageItems[path] !== 'All items') {\n        changeHistory('perPage', pageItems[path]);\n        changeHistory('page', page[path]);\n      } else if (pageItems[path] === 'All items') {\n        deleteHistory('perPage');\n        deleteHistory('page');\n      }\n    //}\n    } else if (['home', 'product', 'favorites', 'cart'].includes(path)) {\n      deleteHistory('sort')\n    }\n  }, [page[path], pageItems[path], sortCarts[path]]);\n\n//   useMemo(() => {\n//     if (appliedValue[path]) {\n//       changeHistory('query', appliedValue[path]);\n//       deleteHistory('sort');\n//       deleteHistory('perPage', pageItems[path]);\n//       deleteHistory('page', page[path]);\n//     } else if (!appliedValue[path]) {\n//       deleteHistory('query');\n//       changeHistory('perPage', pageItems[path]);\n//       changeHistory('page', page[path]);\n//     }\n//     // else if (pageItems[path] === 'All items') {\n//     //   deleteHistory('perPage');\n//     //   deleteHistory('page');\n//     // }\n// }, [appliedValue[path], path]);\n\nconst changeHistorySort = useCallback(() => {\n  if (value) {\n    searchParams.set(name, value);\n    history.push(`?${searchParams.toString()}`);\n  }\n  if (!value) {\n    searchParams.delete(name);\n  }\n\n    // searchParams.delete(name);\n    history.push(`?${searchParams.toString()}`);\n}, []);\n\n  // useMemo(() => {\n  //   //if (pageItems[path] !== \"All items\") {\n  //    // && !['home', 'favorites', 'cart'].includes(path) ) {\n  //     searchParams.set('page', page[path]);\n  //     history.push(`?${searchParams.toString()}`);\n  //   if (pageItems[path] === \"All items\") {\n  //     searchParams.delete('page');\n  //     history.push(`?${searchParams.toString()}`);\n  //   }\n  // },[pageItems[path]]);\n  // useEffect(() => {\n  //   if (path !== 'home') {\n  //   searchParams.set('page', page[path]);\n  //   history.push(`?${searchParams.toString()}`);}\n  // }, [page[path]])\n  \n  const contextValue = useMemo(() => (\n    {\n      favorites,\n      setFavorites,\n      carts,\n      setCarts,\n      productsList,\n      appliedValue,\n      setAppliedValue,\n      applyValue,\n      path,\n      sortCarts,\n      setSortCarts,\n      toggleSort,\n      setToggleSort,\n      pageItems,\n      setPageItems,\n      toggleItemsPage,\n      setToggleItemsPage,\n      page,\n      setPage,\n      changeHistory,\n      deleteHistory,\n      changeHistorySort,\n      search,\n    }),[ favorites, carts, productsList,\n    appliedValue,applyValue, setAppliedValue,\n    path, sortCarts, toggleSort,\n    pageItems, toggleItemsPage, page, search\n  ]);\n\n\n  return (\n    <ProductsContext.Provider value={contextValue}>\n      {children}\n    </ProductsContext.Provider>\n  )\n}\n\nProductsProvider.propTypes = {\n  children: PropTypes.array.isRequired,\n};"]},"metadata":{},"sourceType":"module"}