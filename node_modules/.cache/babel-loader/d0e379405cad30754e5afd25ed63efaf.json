{"ast":null,"code":"import _slicedToArray from\"/Users/katerynashvetsova/Documents/projects/products_catalog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useMemo,useState,useEffect,useCallback}from'react';import{useLocation}from'react-router-dom';import phones from'./data/phones.json';import watches from'./data/watches.json';import tablets from'./data/tablets.json';import{debounce}from'./helpers/debounce';import{initialValue}from'./helpers/search';import{initialSortSelect,initialToggleSelect,initialItemsPageSelect}from'./helpers/select';import{initialPage}from'./helpers/pagination';export var ProductsContext=React.createContext({});var root=document.getElementById('root');export var ProductsProvider=function ProductsProvider(_ref){var children=_ref.children;var _useState=useState({phones:phones,tablets:tablets,watches:watches}),_useState2=_slicedToArray(_useState,1),productsList=_useState2[0];var _useState3=useState(initialValue),_useState4=_slicedToArray(_useState3,2),appliedValue=_useState4[0],setAppliedValue=_useState4[1];var applyValue=useCallback(debounce(setAppliedValue,1000),[]);var _useState5=useState(initialSortSelect),_useState6=_slicedToArray(_useState5,2),sortCarts=_useState6[0],setSortCarts=_useState6[1];var _useState7=useState(initialToggleSelect),_useState8=_slicedToArray(_useState7,2),toggleSort=_useState8[0],setToggleSort=_useState8[1];var _useState9=useState(initialItemsPageSelect),_useState10=_slicedToArray(_useState9,2),pageItems=_useState10[0],setPageItems=_useState10[1];var _useState11=useState(initialToggleSelect),_useState12=_slicedToArray(_useState11,2),toggleItemsPage=_useState12[0],setToggleItemsPage=_useState12[1];var _useState13=useState(initialPage),_useState14=_slicedToArray(_useState13,2),page=_useState14[0],setPage=_useState14[1];var _useLocation=useLocation(),pathname=_useLocation.pathname;var path=pathname.slice(1);var _useState15=useState(JSON.parse(localStorage.getItem('favorites'))||[]),_useState16=_slicedToArray(_useState15,2),favorites=_useState16[0],setFavorites=_useState16[1];var _useState17=useState(JSON.parse(localStorage.getItem('carts'))||[]),_useState18=_slicedToArray(_useState17,2),carts=_useState18[0],setCarts=_useState18[1];useEffect(function(){return localStorage.setItem('favorites',JSON.stringify(favorites));},[favorites]);useEffect(function(){return localStorage.setItem('carts',JSON.stringify(carts));},[carts]);useEffect(function(){return root.scrollIntoView();},[path]);var contextValue=useMemo(function(){return{favorites:favorites,setFavorites:setFavorites,carts:carts,setCarts:setCarts,productsList:productsList,appliedValue:appliedValue,setAppliedValue:setAppliedValue,applyValue:applyValue,path:path,sortCarts:sortCarts,setSortCarts:setSortCarts,toggleSort:toggleSort,setToggleSort:setToggleSort,pageItems:pageItems,setPageItems:setPageItems,toggleItemsPage:toggleItemsPage,setToggleItemsPage:setToggleItemsPage,setPage:setPage,page:page};},[favorites,carts,productsList,appliedValue,applyValue,setAppliedValue,path,sortCarts,toggleSort,pageItems,toggleItemsPage,page]);return/*#__PURE__*/React.createElement(ProductsContext.Provider,{value:contextValue},children);};","map":{"version":3,"sources":["/Users/katerynashvetsova/Documents/projects/products_catalog/src/ProductsProvider.jsx"],"names":["React","useMemo","useState","useEffect","useCallback","useLocation","phones","watches","tablets","debounce","initialValue","initialSortSelect","initialToggleSelect","initialItemsPageSelect","initialPage","ProductsContext","createContext","root","document","getElementById","ProductsProvider","children","productsList","appliedValue","setAppliedValue","applyValue","sortCarts","setSortCarts","toggleSort","setToggleSort","pageItems","setPageItems","toggleItemsPage","setToggleItemsPage","page","setPage","pathname","path","slice","JSON","parse","localStorage","getItem","favorites","setFavorites","carts","setCarts","setItem","stringify","scrollIntoView","contextValue"],"mappings":"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","sourcesContent":["import React, { useMemo, useState, useEffect, useCallback } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { PropTypes } from 'prop-types';\nimport phones from './data/phones.json';\nimport watches from './data/watches.json';\nimport tablets from './data/tablets.json';\nimport { debounce } from './helpers/debounce';\nimport { initialValue } from './helpers/search';\nimport {\n  initialSortSelect,\n  initialToggleSelect,\n  initialItemsPageSelect } from './helpers/select';\nimport { initialPage } from './helpers/pagination';\n\nexport const ProductsContext = React.createContext({});\nconst root = document.getElementById('root');\n\nexport const ProductsProvider = ({ children }) => {\n  const [productsList] = useState({ phones, tablets, watches });\n  const [appliedValue, setAppliedValue] = useState(initialValue);\n  const applyValue = useCallback(debounce(setAppliedValue, 1000), []);\n  const [sortCarts, setSortCarts] = useState(initialSortSelect);\n  const [toggleSort, setToggleSort] = useState(initialToggleSelect);\n  const [pageItems, setPageItems] = useState(initialItemsPageSelect)\n  const [toggleItemsPage, setToggleItemsPage] = useState(initialToggleSelect);\n  const [page, setPage] = useState(initialPage);\n  const { pathname } = useLocation();\n  const path = pathname.slice(1);\n  const [favorites, setFavorites] = useState(\n    JSON.parse(localStorage.getItem('favorites')) || []\n  );\n\n  const [carts, setCarts] = useState(\n    JSON.parse(localStorage.getItem('carts')) || []\n  );\n\n  useEffect(() => (\n    localStorage.setItem('favorites', JSON.stringify(favorites))\n  ), [favorites]);\n\n  useEffect(() => (\n    localStorage.setItem('carts', JSON.stringify(carts))\n  ), [carts]);\n\n  useEffect(() => root.scrollIntoView(), [path]);\n\n  const contextValue = useMemo(() => (\n    {\n      favorites,\n      setFavorites,\n      carts,\n      setCarts,\n      productsList,\n      appliedValue,\n      setAppliedValue,\n      applyValue,\n      path,\n      sortCarts,\n      setSortCarts,\n      toggleSort,\n      setToggleSort,\n      pageItems,\n      setPageItems,\n      toggleItemsPage,\n      setToggleItemsPage,\n      setPage,\n      page,\n  }),\n    [ favorites, carts, productsList, appliedValue,\n      applyValue, setAppliedValue, path, sortCarts,\n      toggleSort, pageItems, toggleItemsPage, page\n    ]\n  );\n\n  return (\n    <ProductsContext.Provider value={contextValue}>\n      {children}\n    </ProductsContext.Provider>\n  )\n}\n\nProductsProvider.propTypes = {\n  children: PropTypes.array.isRequired,\n};"]},"metadata":{},"sourceType":"module"}