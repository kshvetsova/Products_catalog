{"ast":null,"code":"var _jsxFileName = \"/Users/katerynashvetsova/Documents/projects/react_phone-catalog/src/components/CartSlider/CartSlider.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { getSliderWidth, getCartLength, getMargin, getMarginLeft } from '../../helpers/slider';\nimport { PropTypes } from 'prop-types';\nimport classNames from 'classnames';\nimport { CartProduct } from '../CartProduct';\nimport './CartSlider.scss';\nexport const CartSlider = ({\n  title,\n  products\n}) => {\n  const [sliderWidth, setSliderWidth] = useState(getSliderWidth());\n  const [currentPosition, setCurrentPosition] = useState(0);\n  const [cartLength, setCartLength] = useState(getCartLength());\n  const [margin, setMargin] = useState(getMargin());\n  const [marginLeft, setMarginLeft] = useState(getMarginLeft());\n  const [buttonNext, setButtonNext] = useState(1);\n  const [buttonPrev, setButtonPrev] = useState('');\n\n  const handleResize = () => {\n    setSliderWidth(getSliderWidth());\n    setCartLength(getCartLength());\n    setMargin(getMargin());\n    setMarginLeft(getMarginLeft);\n  };\n\n  const handleClickPrev = () => {\n    window.addEventListener('resize', handleResize);\n    let position = currentPosition + (cartLength === 1 ? sliderWidth - marginLeft / 2 : sliderWidth + margin);\n\n    if (position > 0) {\n      position = 0;\n      setButtonPrev(\"\");\n    }\n\n    if (position < 0) {\n      setButtonNext(1);\n    }\n\n    setCurrentPosition(position);\n  };\n\n  const handleClickNext = () => {\n    window.addEventListener('resize', handleResize);\n    let position = currentPosition - (cartLength === 1 ? sliderWidth - marginLeft / 2 : sliderWidth + margin);\n    let maxPosition = (products.length - cartLength) / cartLength * (cartLength === 1 ? sliderWidth - marginLeft / 2 : sliderWidth + margin);\n\n    if (-position > maxPosition) {\n      position = -maxPosition;\n      setButtonNext('');\n    }\n\n    if (-position < maxPosition) {\n      setButtonPrev(1);\n    }\n\n    setCurrentPosition(position);\n  };\n\n  console.log(currentPosition, buttonPrev, buttonNext);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"CartSlider\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"CartSlider-Container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"CartSlider-Title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, title), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"CartSlider-Buttons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: classNames('button_cart', {\n      prev_disabled: !buttonPrev,\n      button_prev: buttonPrev\n    }),\n    onClick: handleClickPrev,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: classNames('button_cart', {\n      next_disabled: !buttonNext,\n      button_next: buttonNext\n    }),\n    onClick: handleClickNext,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"CartSlider-Slider\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"CartSlider-Content\",\n    style: {\n      transition: `transform ${1000}ms`,\n      transform: `translateX(${currentPosition}px)`,\n      marginLeft: `-${currentPosition + sliderWidth}`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, products.map(({\n    images,\n    name,\n    price,\n    capacity,\n    id\n  }) => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"CartS\",\n    key: name,\n    style: {\n      marginRight: `${sliderWidth < 555 ? 0 : margin}px`,\n      marginLeft: `${sliderWidth < 555 ? marginLeft / 2 : 0}px`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(CartProduct, {\n    product: product,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }))), \"//   sliderWidth=\", sliderWidth, \"//   margin=\", margin, \"//   marginLeft=\", marginLeft, \"//   products=\", products, \"// />\"))));\n};\nCartSlider.propTypes = {\n  products: PropTypes.arrayOff().isRequired\n};","map":{"version":3,"sources":["/Users/katerynashvetsova/Documents/projects/react_phone-catalog/src/components/CartSlider/CartSlider.jsx"],"names":["React","useState","useEffect","getSliderWidth","getCartLength","getMargin","getMarginLeft","PropTypes","classNames","CartProduct","CartSlider","title","products","sliderWidth","setSliderWidth","currentPosition","setCurrentPosition","cartLength","setCartLength","margin","setMargin","marginLeft","setMarginLeft","buttonNext","setButtonNext","buttonPrev","setButtonPrev","handleResize","handleClickPrev","window","addEventListener","position","handleClickNext","maxPosition","length","console","log","prev_disabled","button_prev","next_disabled","button_next","transition","transform","map","images","name","price","capacity","id","marginRight","product","propTypes","arrayOff","isRequired"],"mappings":"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","sourcesContent":["import React , { useState, useEffect } from 'react';\nimport { getSliderWidth , getCartLength, getMargin, getMarginLeft} from '../../helpers/slider';\nimport { PropTypes } from 'prop-types';\nimport classNames from 'classnames';\nimport { CartProduct } from '../CartProduct';\nimport './CartSlider.scss';\n\n\nexport const CartSlider = ({ title, products }) => {\n  const [sliderWidth, setSliderWidth] = useState(getSliderWidth())\n  const [currentPosition, setCurrentPosition] = useState(0);\n  const [cartLength, setCartLength] = useState(getCartLength());\n  const [margin, setMargin] = useState(getMargin());\n  const [marginLeft, setMarginLeft] = useState(getMarginLeft());\n  const [buttonNext, setButtonNext] = useState(1);\n  const [buttonPrev, setButtonPrev] = useState('');\n\n  const handleResize = () => {\n      setSliderWidth(getSliderWidth());\n      setCartLength(getCartLength());\n      setMargin(getMargin());\n      setMarginLeft(getMarginLeft)\n    }\n\n  const handleClickPrev = () => {\n    window.addEventListener('resize', handleResize);\n    let position = currentPosition + (cartLength ===1 ? sliderWidth - (marginLeft / 2) : sliderWidth + margin);\n\n    if (position > 0) {\n      position = 0;\n      setButtonPrev(\"\");\n   }\n\n   if (position < 0) {\n      setButtonNext(1);\n   }\n    setCurrentPosition(position);\n  }\n\n  const handleClickNext = () => {\n    window.addEventListener('resize', handleResize);\n    let position = currentPosition - (cartLength === 1 ?\n      (sliderWidth - (marginLeft / 2)) : (sliderWidth + margin));\n    let maxPosition = (((products.length - cartLength) / cartLength) * (cartLength === 1 ? sliderWidth - marginLeft / 2 : sliderWidth + margin));\n\n    if (-(position) > maxPosition) {\n      position = -maxPosition;\n      setButtonNext('')\n    }\n\n    if (-(position) < maxPosition) {\n      setButtonPrev(1)\n    }\n\n    setCurrentPosition(position);\n  };\n\n  console.log(currentPosition, buttonPrev, buttonNext);\n  return (\n    <>\n      <div className=\"CartSlider\">\n        <div className=\"CartSlider-Container\">\n          <p className=\"CartSlider-Title\">{title}</p>\n          <div className=\"CartSlider-Buttons\">\n            <button\n              className={classNames('button_cart', {\n              prev_disabled: !buttonPrev,\n              button_prev: buttonPrev,\n              })}\n              onClick={handleClickPrev}\n            >\n              {}\n            </button>\n            <button\n              className={classNames('button_cart', {\n              next_disabled: !buttonNext,\n              button_next: buttonNext,\n              })}\n              onClick={handleClickNext}\n            >\n              {}\n            </button>\n          </div>\n        </div>\n        <div className=\"CartSlider-Slider\">\n          <div\n            className=\"CartSlider-Content\"\n            style={{\n              transition: `transform ${1000}ms`,\n              transform: `translateX(${currentPosition}px)`,\n              marginLeft: `-${(currentPosition + sliderWidth)}`\n            }}\n          >\n            {products.map(({ images, name, price, capacity, id}) => (\n              <div\n                className=\"CartS\"\n                key={name}\n                style={{\n                  marginRight: `${sliderWidth < 555 ? 0 : margin}px`,\n                  marginLeft: `${sliderWidth < 555 ? marginLeft / 2 : 0}px`\n                }}\n              >\n                <CartProduct product={product} />\n              </div>\n            ))}\n            {/* // <CartProduct */}\n            //   sliderWidth={sliderWidth}\n            //   margin={margin}\n            //   marginLeft={marginLeft}\n            //   products={products}\n            // />\n          </div>\n        </div>\n      </div>\n    </>\n  )\n}\n\nCartSlider.propTypes = {\n  products: PropTypes.arrayOff().isRequired,\n}\n"]},"metadata":{},"sourceType":"module"}